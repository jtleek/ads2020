<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>6 Week 5 | Week 1</title>
  <meta name="description" content="This book provides course material for Biostatistics 140.711 at the Johns Hopkins Bloomberg School of Public Health." />
  <meta name="generator" content="bookdown 0.20 and GitBook 2.6.7" />

  <meta property="og:title" content="6 Week 5 | Week 1" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This book provides course material for Biostatistics 140.711 at the Johns Hopkins Bloomberg School of Public Health." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="6 Week 5 | Week 1" />
  
  <meta name="twitter:description" content="This book provides course material for Biostatistics 140.711 at the Johns Hopkins Bloomberg School of Public Health." />
  

<meta name="author" content="Jeff Leek and Roger D. Peng" />


<meta name="date" content="2020-11-02" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="week-4.html"/>
<link rel="next" href="week-6.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="libs/table1-1.0/table1_defaults.css" rel="stylesheet" />


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<img src ="ads2020-small.png" class="center">

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Welcome and Syllabus</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#assumptions-and-pre-requisites"><i class="fa fa-check"></i><b>1.1</b> Assumptions and pre-requisites</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#learning-objectives"><i class="fa fa-check"></i><b>1.2</b> Learning Objectives</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#course-staff"><i class="fa fa-check"></i><b>1.3</b> Course Staff</a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#course-logistics"><i class="fa fa-check"></i><b>1.4</b> Course logistics</a></li>
<li class="chapter" data-level="1.5" data-path="index.html"><a href="index.html#assignment-due-dates"><i class="fa fa-check"></i><b>1.5</b> Assignment Due Dates</a></li>
<li class="chapter" data-level="1.6" data-path="index.html"><a href="index.html#the-pandemic"><i class="fa fa-check"></i><b>1.6</b> The Pandemic</a></li>
<li class="chapter" data-level="1.7" data-path="index.html"><a href="index.html#grading"><i class="fa fa-check"></i><b>1.7</b> Grading</a><ul>
<li class="chapter" data-level="1.7.1" data-path="index.html"><a href="index.html#philosophy"><i class="fa fa-check"></i><b>1.7.1</b> Philosophy</a></li>
<li class="chapter" data-level="1.7.2" data-path="index.html"><a href="index.html#relative-weights"><i class="fa fa-check"></i><b>1.7.2</b> Relative weights</a></li>
</ul></li>
<li class="chapter" data-level="1.8" data-path="index.html"><a href="index.html#assignments"><i class="fa fa-check"></i><b>1.8</b> Assignments</a><ul>
<li class="chapter" data-level="1.8.1" data-path="index.html"><a href="index.html#submitting-assignments"><i class="fa fa-check"></i><b>1.8.1</b> Submitting assignments</a></li>
<li class="chapter" data-level="1.8.2" data-path="index.html"><a href="index.html#data-analysis-assignments"><i class="fa fa-check"></i><b>1.8.2</b> Data Analysis Assignments</a></li>
<li class="chapter" data-level="1.8.3" data-path="index.html"><a href="index.html#data-analysis-reviews"><i class="fa fa-check"></i><b>1.8.3</b> Data Analysis Reviews</a></li>
<li class="chapter" data-level="1.8.4" data-path="index.html"><a href="index.html#reviewing-code-of-conduct"><i class="fa fa-check"></i><b>1.8.4</b> Reviewing Code of Conduct</a></li>
</ul></li>
<li class="chapter" data-level="1.9" data-path="index.html"><a href="index.html#code-of-conduct"><i class="fa fa-check"></i><b>1.9</b> Code of Conduct</a><ul>
<li class="chapter" data-level="1.9.1" data-path="index.html"><a href="index.html#need-help"><i class="fa fa-check"></i><b>1.9.1</b> Need Help?</a></li>
<li class="chapter" data-level="1.9.2" data-path="index.html"><a href="index.html#feedback"><i class="fa fa-check"></i><b>1.9.2</b> Feedback</a></li>
<li class="chapter" data-level="1.9.3" data-path="index.html"><a href="index.html#license-and-attribution"><i class="fa fa-check"></i><b>1.9.3</b> License and attribution</a></li>
</ul></li>
<li class="chapter" data-level="1.10" data-path="index.html"><a href="index.html#academic-ethics"><i class="fa fa-check"></i><b>1.10</b> Academic Ethics</a></li>
<li class="chapter" data-level="1.11" data-path="index.html"><a href="index.html#disability-support-services"><i class="fa fa-check"></i><b>1.11</b> Disability support services</a></li>
<li class="chapter" data-level="1.12" data-path="index.html"><a href="index.html#email-alerts"><i class="fa fa-check"></i><b>1.12</b> Email alerts</a></li>
<li class="chapter" data-level="1.13" data-path="index.html"><a href="index.html#previous-versions-of-the-class"><i class="fa fa-check"></i><b>1.13</b> Previous versions of the class</a></li>
<li class="chapter" data-level="1.14" data-path="index.html"><a href="index.html#typos-and-corrections"><i class="fa fa-check"></i><b>1.14</b> Typos and corrections</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="week-1.html"><a href="week-1.html"><i class="fa fa-check"></i><b>2</b> Week 1</a><ul>
<li class="chapter" data-level="2.1" data-path="week-1.html"><a href="week-1.html#week-1-learning-objectives"><i class="fa fa-check"></i><b>2.1</b> Week 1 Learning objectives</a></li>
<li class="chapter" data-level="2.2" data-path="week-1.html"><a href="week-1.html#what-is-advanced-data-science-anyway"><i class="fa fa-check"></i><b>2.2</b> What is advanced data science anyway?</a><ul>
<li class="chapter" data-level="2.2.1" data-path="week-1.html"><a href="week-1.html#maybe-we-should-start-by-defining-data-science."><i class="fa fa-check"></i><b>2.2.1</b> Maybe we should start by defining data science….</a></li>
<li class="chapter" data-level="2.2.2" data-path="week-1.html"><a href="week-1.html#data-science-is-hard-but-not-like-math-is-hard"><i class="fa fa-check"></i><b>2.2.2</b> Data Science is hard, but not like math is hard</a></li>
<li class="chapter" data-level="2.2.3" data-path="week-1.html"><a href="week-1.html#so-what-is-advanced-data-science"><i class="fa fa-check"></i><b>2.2.3</b> So what is advanced data science?</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="week-1.html"><a href="week-1.html#types-of-data-analytic-questions"><i class="fa fa-check"></i><b>2.3</b> Types of data analytic questions</a><ul>
<li class="chapter" data-level="2.3.1" data-path="week-1.html"><a href="week-1.html#descriptive"><i class="fa fa-check"></i><b>2.3.1</b> Descriptive</a></li>
<li class="chapter" data-level="2.3.2" data-path="week-1.html"><a href="week-1.html#exploratory"><i class="fa fa-check"></i><b>2.3.2</b> Exploratory</a></li>
<li class="chapter" data-level="2.3.3" data-path="week-1.html"><a href="week-1.html#inferential"><i class="fa fa-check"></i><b>2.3.3</b> Inferential</a></li>
<li class="chapter" data-level="2.3.4" data-path="week-1.html"><a href="week-1.html#predictive"><i class="fa fa-check"></i><b>2.3.4</b> Predictive</a></li>
<li class="chapter" data-level="2.3.5" data-path="week-1.html"><a href="week-1.html#causal"><i class="fa fa-check"></i><b>2.3.5</b> Causal</a></li>
<li class="chapter" data-level="2.3.6" data-path="week-1.html"><a href="week-1.html#mechanistic"><i class="fa fa-check"></i><b>2.3.6</b> Mechanistic</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="week-1.html"><a href="week-1.html#a-data-analytic-rubric"><i class="fa fa-check"></i><b>2.4</b> A data analytic rubric</a><ul>
<li class="chapter" data-level="2.4.1" data-path="week-1.html"><a href="week-1.html#answering-the-question"><i class="fa fa-check"></i><b>2.4.1</b> Answering the question</a></li>
<li class="chapter" data-level="2.4.2" data-path="week-1.html"><a href="week-1.html#checking-the-data"><i class="fa fa-check"></i><b>2.4.2</b> Checking the data</a></li>
<li class="chapter" data-level="2.4.3" data-path="week-1.html"><a href="week-1.html#tidying-the-data"><i class="fa fa-check"></i><b>2.4.3</b> Tidying the data</a></li>
<li class="chapter" data-level="2.4.4" data-path="week-1.html"><a href="week-1.html#exploratory-analysis"><i class="fa fa-check"></i><b>2.4.4</b> Exploratory analysis</a></li>
<li class="chapter" data-level="2.4.5" data-path="week-1.html"><a href="week-1.html#inference"><i class="fa fa-check"></i><b>2.4.5</b> Inference</a></li>
<li class="chapter" data-level="2.4.6" data-path="week-1.html"><a href="week-1.html#prediction"><i class="fa fa-check"></i><b>2.4.6</b> Prediction</a></li>
<li class="chapter" data-level="2.4.7" data-path="week-1.html"><a href="week-1.html#causality"><i class="fa fa-check"></i><b>2.4.7</b> Causality</a></li>
<li class="chapter" data-level="2.4.8" data-path="week-1.html"><a href="week-1.html#written-analyses"><i class="fa fa-check"></i><b>2.4.8</b> Written analyses</a></li>
<li class="chapter" data-level="2.4.9" data-path="week-1.html"><a href="week-1.html#figures"><i class="fa fa-check"></i><b>2.4.9</b> Figures</a></li>
<li class="chapter" data-level="2.4.10" data-path="week-1.html"><a href="week-1.html#presentations"><i class="fa fa-check"></i><b>2.4.10</b> Presentations</a></li>
<li class="chapter" data-level="2.4.11" data-path="week-1.html"><a href="week-1.html#reproducibility"><i class="fa fa-check"></i><b>2.4.11</b> Reproducibility</a></li>
<li class="chapter" data-level="2.4.12" data-path="week-1.html"><a href="week-1.html#r-packages"><i class="fa fa-check"></i><b>2.4.12</b> R packages</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="week-1.html"><a href="week-1.html#your-first-assignment---deconstructing-an-analysis"><i class="fa fa-check"></i><b>2.5</b> Your first assignment - deconstructing an analysis</a></li>
<li class="chapter" data-level="2.6" data-path="week-1.html"><a href="week-1.html#additional-resources"><i class="fa fa-check"></i><b>2.6</b> Additional Resources</a></li>
<li class="chapter" data-level="2.7" data-path="week-1.html"><a href="week-1.html#homework"><i class="fa fa-check"></i><b>2.7</b> Homework</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="week-2.html"><a href="week-2.html"><i class="fa fa-check"></i><b>3</b> Week 2</a><ul>
<li class="chapter" data-level="3.1" data-path="week-2.html"><a href="week-2.html#week-2-learning-objectives"><i class="fa fa-check"></i><b>3.1</b> Week 2 Learning objectives</a></li>
<li class="chapter" data-level="3.2" data-path="week-2.html"><a href="week-2.html#the-steps-in-a-data-analysis"><i class="fa fa-check"></i><b>3.2</b> The steps in a data analysis</a><ul>
<li class="chapter" data-level="3.2.1" data-path="week-2.html"><a href="week-2.html#defining-the-question"><i class="fa fa-check"></i><b>3.2.1</b> Defining the question</a></li>
<li class="chapter" data-level="3.2.2" data-path="week-2.html"><a href="week-2.html#defining-the-ideal-data-set"><i class="fa fa-check"></i><b>3.2.2</b> Defining the ideal data set</a></li>
<li class="chapter" data-level="3.2.3" data-path="week-2.html"><a href="week-2.html#determine-the-data-you-can-access"><i class="fa fa-check"></i><b>3.2.3</b> Determine the data you can access</a></li>
<li class="chapter" data-level="3.2.4" data-path="week-2.html"><a href="week-2.html#obtain-the-data"><i class="fa fa-check"></i><b>3.2.4</b> Obtain the data</a></li>
<li class="chapter" data-level="3.2.5" data-path="week-2.html"><a href="week-2.html#clean-the-data"><i class="fa fa-check"></i><b>3.2.5</b> Clean the data</a></li>
<li class="chapter" data-level="3.2.6" data-path="week-2.html"><a href="week-2.html#exploratory-data-analysis"><i class="fa fa-check"></i><b>3.2.6</b> Exploratory data analysis</a></li>
<li class="chapter" data-level="3.2.7" data-path="week-2.html"><a href="week-2.html#statistical-predictionmodeling"><i class="fa fa-check"></i><b>3.2.7</b> Statistical prediction/modeling</a></li>
<li class="chapter" data-level="3.2.8" data-path="week-2.html"><a href="week-2.html#interpret-results"><i class="fa fa-check"></i><b>3.2.8</b> Interpret results</a></li>
<li class="chapter" data-level="3.2.9" data-path="week-2.html"><a href="week-2.html#challenge-results"><i class="fa fa-check"></i><b>3.2.9</b> Challenge results</a></li>
<li class="chapter" data-level="3.2.10" data-path="week-2.html"><a href="week-2.html#synthesizewrite-up-results"><i class="fa fa-check"></i><b>3.2.10</b> Synthesize/write up results</a></li>
<li class="chapter" data-level="3.2.11" data-path="week-2.html"><a href="week-2.html#create-reproducible-code"><i class="fa fa-check"></i><b>3.2.11</b> Create reproducible code</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="week-2.html"><a href="week-2.html#raw-informal-and-formal-data-science"><i class="fa fa-check"></i><b>3.3</b> Raw, informal, and formal data science</a></li>
<li class="chapter" data-level="3.4" data-path="week-1.html"><a href="week-1.html#additional-resources"><i class="fa fa-check"></i><b>3.4</b> Additional Resources</a></li>
<li class="chapter" data-level="3.5" data-path="week-1.html"><a href="week-1.html#homework"><i class="fa fa-check"></i><b>3.5</b> Homework</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="week-3.html"><a href="week-3.html"><i class="fa fa-check"></i><b>4</b> Week 3</a><ul>
<li class="chapter" data-level="4.1" data-path="week-3.html"><a href="week-3.html#week-3-learning-objectives"><i class="fa fa-check"></i><b>4.1</b> Week 3 Learning Objectives</a></li>
<li class="chapter" data-level="4.2" data-path="week-3.html"><a href="week-3.html#organizing-a-data-analysis"><i class="fa fa-check"></i><b>4.2</b> Organizing a data analysis</a><ul>
<li class="chapter" data-level="4.2.1" data-path="week-3.html"><a href="week-3.html#motivation---the-stick"><i class="fa fa-check"></i><b>4.2.1</b> Motivation - the stick</a></li>
<li class="chapter" data-level="4.2.2" data-path="week-3.html"><a href="week-3.html#motivation---the-carrot"><i class="fa fa-check"></i><b>4.2.2</b> Motivation - the carrot</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="week-3.html"><a href="week-3.html#project-organization"><i class="fa fa-check"></i><b>4.3</b> Project Organization</a><ul>
<li class="chapter" data-level="4.3.1" data-path="week-3.html"><a href="week-3.html#readme.md"><i class="fa fa-check"></i><b>4.3.1</b> README.md</a></li>
<li class="chapter" data-level="4.3.2" data-path="week-3.html"><a href="week-3.html#gitignore"><i class="fa fa-check"></i><b>4.3.2</b> .gitignore</a></li>
<li class="chapter" data-level="4.3.3" data-path="week-3.html"><a href="week-3.html#data"><i class="fa fa-check"></i><b>4.3.3</b> data/</a></li>
<li class="chapter" data-level="4.3.4" data-path="week-3.html"><a href="week-3.html#code"><i class="fa fa-check"></i><b>4.3.4</b> code/</a></li>
<li class="chapter" data-level="4.3.5" data-path="week-1.html"><a href="week-1.html#figures"><i class="fa fa-check"></i><b>4.3.5</b> figures</a></li>
<li class="chapter" data-level="4.3.6" data-path="week-3.html"><a href="week-3.html#products"><i class="fa fa-check"></i><b>4.3.6</b> products/</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="week-3.html"><a href="week-3.html#file-naming"><i class="fa fa-check"></i><b>4.4</b> File naming</a></li>
<li class="chapter" data-level="4.5" data-path="week-3.html"><a href="week-3.html#absolute-vs.-relative-paths"><i class="fa fa-check"></i><b>4.5</b> Absolute vs. relative paths</a></li>
<li class="chapter" data-level="4.6" data-path="week-3.html"><a href="week-3.html#coding-variables"><i class="fa fa-check"></i><b>4.6</b> Coding Variables</a></li>
<li class="chapter" data-level="4.7" data-path="week-3.html"><a href="week-3.html#project-management-software"><i class="fa fa-check"></i><b>4.7</b> Project management software</a></li>
<li class="chapter" data-level="4.8" data-path="week-3.html"><a href="week-3.html#coding-style"><i class="fa fa-check"></i><b>4.8</b> Coding style</a></li>
<li class="chapter" data-level="4.9" data-path="week-3.html"><a href="week-3.html#chain-of-custody-for-data"><i class="fa fa-check"></i><b>4.9</b> Chain of Custody for Data</a></li>
<li class="chapter" data-level="4.10" data-path="week-3.html"><a href="week-3.html#version-control"><i class="fa fa-check"></i><b>4.10</b> Version Control</a></li>
<li class="chapter" data-level="4.11" data-path="week-1.html"><a href="week-1.html#additional-resources"><i class="fa fa-check"></i><b>4.11</b> Additional Resources</a></li>
<li class="chapter" data-level="4.12" data-path="week-1.html"><a href="week-1.html#homework"><i class="fa fa-check"></i><b>4.12</b> Homework</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="week-4.html"><a href="week-4.html"><i class="fa fa-check"></i><b>5</b> Week 4</a><ul>
<li class="chapter" data-level="5.1" data-path="week-4.html"><a href="week-4.html#week-4-learning-objectives"><i class="fa fa-check"></i><b>5.1</b> Week 4 Learning Objectives</a></li>
<li class="chapter" data-level="5.2" data-path="week-4.html"><a href="week-4.html#the-optimality-paradox"><i class="fa fa-check"></i><b>5.2</b> The optimality paradox</a></li>
<li class="chapter" data-level="5.3" data-path="week-4.html"><a href="week-4.html#an-example-of-the-art-of-data-science"><i class="fa fa-check"></i><b>5.3</b> An example of the art of data science</a><ul>
<li class="chapter" data-level="5.3.1" data-path="week-4.html"><a href="week-4.html#an-important-subtlety---analyst-decisions-change-the-question"><i class="fa fa-check"></i><b>5.3.1</b> An important subtlety - analyst decisions change the question</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="week-4.html"><a href="week-4.html#early-definitions-of-success"><i class="fa fa-check"></i><b>5.4</b> Early definitions of success</a><ul>
<li class="chapter" data-level="5.4.1" data-path="week-1.html"><a href="week-1.html#reproducibility"><i class="fa fa-check"></i><b>5.4.1</b> Reproducibility</a></li>
<li class="chapter" data-level="5.4.2" data-path="week-4.html"><a href="week-4.html#replicability"><i class="fa fa-check"></i><b>5.4.2</b> Replicability</a></li>
<li class="chapter" data-level="5.4.3" data-path="week-4.html"><a href="week-4.html#false-discovery"><i class="fa fa-check"></i><b>5.4.3</b> False discovery</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="week-4.html"><a href="week-4.html#a-theory-of-data-science-success"><i class="fa fa-check"></i><b>5.5</b> A theory of data science success</a><ul>
<li class="chapter" data-level="5.5.1" data-path="week-4.html"><a href="week-4.html#elements-of-data-science"><i class="fa fa-check"></i><b>5.5.1</b> Elements of Data Science</a></li>
<li class="chapter" data-level="5.5.2" data-path="week-4.html"><a href="week-4.html#principles-of-data-science"><i class="fa fa-check"></i><b>5.5.2</b> Principles of Data Science</a></li>
<li class="chapter" data-level="5.5.3" data-path="week-4.html"><a href="week-4.html#data-matching"><i class="fa fa-check"></i><b>5.5.3</b> Data matching</a></li>
<li class="chapter" data-level="5.5.4" data-path="week-4.html"><a href="week-4.html#exhaustive"><i class="fa fa-check"></i><b>5.5.4</b> Exhaustive</a></li>
<li class="chapter" data-level="5.5.5" data-path="week-4.html"><a href="week-4.html#skeptical"><i class="fa fa-check"></i><b>5.5.5</b> Skeptical</a></li>
<li class="chapter" data-level="5.5.6" data-path="week-4.html"><a href="week-4.html#second-order"><i class="fa fa-check"></i><b>5.5.6</b> Second order</a></li>
<li class="chapter" data-level="5.5.7" data-path="week-4.html"><a href="week-4.html#transparent"><i class="fa fa-check"></i><b>5.5.7</b> Transparent</a></li>
<li class="chapter" data-level="5.5.8" data-path="week-4.html"><a href="week-4.html#reproducible"><i class="fa fa-check"></i><b>5.5.8</b> Reproducible</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="week-4.html"><a href="week-4.html#a-successful-data-analysis"><i class="fa fa-check"></i><b>5.6</b> A successful data analysis</a></li>
<li class="chapter" data-level="5.7" data-path="week-4.html"><a href="week-4.html#constraints-and-expectation-matching"><i class="fa fa-check"></i><b>5.7</b> Constraints and expectation matching</a></li>
<li class="chapter" data-level="5.8" data-path="week-4.html"><a href="week-4.html#what-about-being-correct"><i class="fa fa-check"></i><b>5.8</b> What about being correct?</a></li>
<li class="chapter" data-level="5.9" data-path="week-1.html"><a href="week-1.html#additional-resources"><i class="fa fa-check"></i><b>5.9</b> Additional Resources</a></li>
<li class="chapter" data-level="5.10" data-path="week-1.html"><a href="week-1.html#homework"><i class="fa fa-check"></i><b>5.10</b> Homework</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="week-5.html"><a href="week-5.html"><i class="fa fa-check"></i><b>6</b> Week 5</a><ul>
<li class="chapter" data-level="6.1" data-path="week-5.html"><a href="week-5.html#week-5-learning-objectives"><i class="fa fa-check"></i><b>6.1</b> Week 5 Learning Objectives</a></li>
<li class="chapter" data-level="6.2" data-path="week-5.html"><a href="week-5.html#skepticism-vs.-discovery"><i class="fa fa-check"></i><b>6.2</b> Skepticism vs. Discovery</a></li>
<li class="chapter" data-level="6.3" data-path="week-1.html"><a href="week-1.html#figures"><i class="fa fa-check"></i><b>6.3</b> Figures</a><ul>
<li class="chapter" data-level="6.3.1" data-path="week-5.html"><a href="week-5.html#just-modeling-results---show-the-data"><i class="fa fa-check"></i><b>6.3.1</b> Just modeling results -&gt; show the data!</a></li>
<li class="chapter" data-level="6.3.2" data-path="week-5.html"><a href="week-5.html#dynamite-plots---scatterplots"><i class="fa fa-check"></i><b>6.3.2</b> Dynamite plots -&gt; scatterplots</a></li>
<li class="chapter" data-level="6.3.3" data-path="week-5.html"><a href="week-5.html#ridiculograms---clustering-diagrams"><i class="fa fa-check"></i><b>6.3.3</b> Ridiculograms -&gt; clustering diagrams</a></li>
<li class="chapter" data-level="6.3.4" data-path="week-5.html"><a href="week-5.html#venn-diagrams---upset-plots"><i class="fa fa-check"></i><b>6.3.4</b> Venn diagrams -&gt; upset plots</a></li>
<li class="chapter" data-level="6.3.5" data-path="week-5.html"><a href="week-5.html#extreme-variation-in-scales---log-scales"><i class="fa fa-check"></i><b>6.3.5</b> Extreme variation in scales -&gt; log scales</a></li>
<li class="chapter" data-level="6.3.6" data-path="week-5.html"><a href="week-5.html#correlated-measurements---ma-plots"><i class="fa fa-check"></i><b>6.3.6</b> Correlated measurements -&gt; MA plots</a></li>
<li class="chapter" data-level="6.3.7" data-path="week-5.html"><a href="week-5.html#axes-cutoff---plot-to-zero"><i class="fa fa-check"></i><b>6.3.7</b> Axes cutoff -&gt; plot to zero</a></li>
<li class="chapter" data-level="6.3.8" data-path="week-5.html"><a href="week-5.html#d-graphics---just-dont"><i class="fa fa-check"></i><b>6.3.8</b> 3d graphics -&gt; just don’t</a></li>
<li class="chapter" data-level="6.3.9" data-path="week-5.html"><a href="week-5.html#pie-charts---adjacent-bar-plots"><i class="fa fa-check"></i><b>6.3.9</b> Pie charts -&gt; adjacent bar plots</a></li>
<li class="chapter" data-level="6.3.10" data-path="week-5.html"><a href="week-5.html#difficult-comparisons---put-things-close-on-linear-axes"><i class="fa fa-check"></i><b>6.3.10</b> Difficult comparisons -&gt; put things close on linear axes</a></li>
<li class="chapter" data-level="6.3.11" data-path="week-5.html"><a href="week-5.html#comparisons-hard-to-make-between-plots---use-common-axes"><i class="fa fa-check"></i><b>6.3.11</b> Comparisons hard to make between plots -&gt; use common axes</a></li>
<li class="chapter" data-level="6.3.12" data-path="week-5.html"><a href="week-5.html#legends-hard-to-follow---use-labels"><i class="fa fa-check"></i><b>6.3.12</b> Legends hard to follow -&gt; use labels</a></li>
<li class="chapter" data-level="6.3.13" data-path="week-5.html"><a href="week-5.html#confounders-arent-clear---color-by-confounder"><i class="fa fa-check"></i><b>6.3.13</b> Confounders aren’t clear -&gt; color by confounder</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="week-5.html"><a href="week-5.html#common-data-analytic-fallacies"><i class="fa fa-check"></i><b>6.4</b> Common data analytic fallacies</a><ul>
<li class="chapter" data-level="6.4.1" data-path="week-5.html"><a href="week-5.html#spurious-correlation"><i class="fa fa-check"></i><b>6.4.1</b> Spurious correlation</a></li>
<li class="chapter" data-level="6.4.2" data-path="week-5.html"><a href="week-5.html#outliers"><i class="fa fa-check"></i><b>6.4.2</b> Outliers</a></li>
<li class="chapter" data-level="6.4.3" data-path="week-5.html"><a href="week-5.html#reversing-cause-and-effect"><i class="fa fa-check"></i><b>6.4.3</b> Reversing Cause and Effect</a></li>
<li class="chapter" data-level="6.4.4" data-path="week-5.html"><a href="week-5.html#confounders"><i class="fa fa-check"></i><b>6.4.4</b> Confounders</a></li>
<li class="chapter" data-level="6.4.5" data-path="week-5.html"><a href="week-5.html#simpsons-paradox"><i class="fa fa-check"></i><b>6.4.5</b> Simpson’s Paradox</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="week-5.html"><a href="week-5.html#over-skepticism"><i class="fa fa-check"></i><b>6.5</b> Over-skepticism</a><ul>
<li class="chapter" data-level="6.5.1" data-path="week-5.html"><a href="week-5.html#everything-must-be-causal"><i class="fa fa-check"></i><b>6.5.1</b> Everything must be causal</a></li>
<li class="chapter" data-level="6.5.2" data-path="week-5.html"><a href="week-5.html#nothing-can-be-causal"><i class="fa fa-check"></i><b>6.5.2</b> Nothing can be causal</a></li>
<li class="chapter" data-level="6.5.3" data-path="week-5.html"><a href="week-5.html#you-should-answer-my-question-not-yours"><i class="fa fa-check"></i><b>6.5.3</b> You should answer my question, not yours</a></li>
<li class="chapter" data-level="6.5.4" data-path="week-5.html"><a href="week-5.html#you-used-insert-method-i-dont-use-therefore-the-analysis-is-wrong"><i class="fa fa-check"></i><b>6.5.4</b> You used (insert method I don’t use) therefore the analysis is wrong</a></li>
</ul></li>
<li class="chapter" data-level="6.6" data-path="week-1.html"><a href="week-1.html#additional-resources"><i class="fa fa-check"></i><b>6.6</b> Additional Resources</a></li>
<li class="chapter" data-level="6.7" data-path="week-1.html"><a href="week-1.html#homework"><i class="fa fa-check"></i><b>6.7</b> Homework</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="week-6.html"><a href="week-6.html"><i class="fa fa-check"></i><b>7</b> Week 6</a><ul>
<li class="chapter" data-level="7.1" data-path="week-6.html"><a href="week-6.html#week-6-learning-objectives"><i class="fa fa-check"></i><b>7.1</b> Week 6 Learning objectives</a></li>
<li class="chapter" data-level="7.2" data-path="week-6.html"><a href="week-6.html#what-you-wish-data-looked-like"><i class="fa fa-check"></i><b>7.2</b> What you wish data looked like</a></li>
<li class="chapter" data-level="7.3" data-path="week-6.html"><a href="week-6.html#what-it-actually-looks-like"><i class="fa fa-check"></i><b>7.3</b> What it actually looks like</a></li>
<li class="chapter" data-level="7.4" data-path="week-6.html"><a href="week-6.html#background-on-getting-data"><i class="fa fa-check"></i><b>7.4</b> Background on getting data</a><ul>
<li class="chapter" data-level="7.4.1" data-path="week-6.html"><a href="week-6.html#where-do-data-live"><i class="fa fa-check"></i><b>7.4.1</b> Where do data live?</a></li>
<li class="chapter" data-level="7.4.2" data-path="week-6.html"><a href="week-6.html#best-practices-on-sharing-data"><i class="fa fa-check"></i><b>7.4.2</b> Best practices on sharing data</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="week-6.html"><a href="week-6.html#relative-versus-absolute-paths"><i class="fa fa-check"></i><b>7.5</b> Relative versus absolute paths</a><ul>
<li class="chapter" data-level="7.5.1" data-path="week-6.html"><a href="week-6.html#the-here-package"><i class="fa fa-check"></i><b>7.5.1</b> The <code>here</code> package</a></li>
<li class="chapter" data-level="7.5.2" data-path="week-6.html"><a href="week-6.html#finding-and-creating-files-locally"><i class="fa fa-check"></i><b>7.5.2</b> Finding and creating files locally</a></li>
<li class="chapter" data-level="7.5.3" data-path="week-6.html"><a href="week-6.html#downloading-files"><i class="fa fa-check"></i><b>7.5.3</b> Downloading files</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="week-6.html"><a href="week-6.html#reading-files"><i class="fa fa-check"></i><b>7.6</b> Reading files</a><ul>
<li class="chapter" data-level="7.6.1" data-path="week-6.html"><a href="week-6.html#reading-in-csv-files"><i class="fa fa-check"></i><b>7.6.1</b> Reading in CSV files</a></li>
<li class="chapter" data-level="7.6.2" data-path="week-6.html"><a href="week-6.html#reading-in-excel-files"><i class="fa fa-check"></i><b>7.6.2</b> Reading in Excel files</a></li>
<li class="chapter" data-level="7.6.3" data-path="week-6.html"><a href="week-6.html#reading-in-json-files"><i class="fa fa-check"></i><b>7.6.3</b> Reading in JSON Files</a></li>
<li class="chapter" data-level="7.6.4" data-path="week-6.html"><a href="week-6.html#using-github-api"><i class="fa fa-check"></i><b>7.6.4</b> Using GitHub API</a></li>
</ul></li>
<li class="chapter" data-level="7.7" data-path="week-6.html"><a href="week-6.html#google-sheets"><i class="fa fa-check"></i><b>7.7</b> Google Sheets</a></li>
<li class="chapter" data-level="7.8" data-path="week-6.html"><a href="week-6.html#databases"><i class="fa fa-check"></i><b>7.8</b> Databases</a><ul>
<li class="chapter" data-level="7.8.1" data-path="week-6.html"><a href="week-6.html#querying-with-dplyr-syntax"><i class="fa fa-check"></i><b>7.8.1</b> Querying with <code>dplyr</code> syntax</a></li>
<li class="chapter" data-level="7.8.2" data-path="week-6.html"><a href="week-6.html#delayed-execution"><i class="fa fa-check"></i><b>7.8.2</b> Delayed execution</a></li>
</ul></li>
<li class="chapter" data-level="7.9" data-path="week-6.html"><a href="week-6.html#apis"><i class="fa fa-check"></i><b>7.9</b> APIs</a></li>
<li class="chapter" data-level="7.10" data-path="week-6.html"><a href="week-6.html#webscraping"><i class="fa fa-check"></i><b>7.10</b> Webscraping</a><ul>
<li class="chapter" data-level="7.10.1" data-path="week-6.html"><a href="week-6.html#css-selectors"><i class="fa fa-check"></i><b>7.10.1</b> CSS Selectors</a></li>
</ul></li>
<li class="chapter" data-level="7.11" data-path="week-6.html"><a href="week-6.html#google-ing"><i class="fa fa-check"></i><b>7.11</b> Google-ing</a></li>
<li class="chapter" data-level="7.12" data-path="week-1.html"><a href="week-1.html#additional-resources"><i class="fa fa-check"></i><b>7.12</b> Additional Resources</a></li>
<li class="chapter" data-level="7.13" data-path="week-1.html"><a href="week-1.html#homework"><i class="fa fa-check"></i><b>7.13</b> Homework</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="week-7.html"><a href="week-7.html"><i class="fa fa-check"></i><b>8</b> Week 7</a><ul>
<li class="chapter" data-level="8.1" data-path="week-7.html"><a href="week-7.html#week-7-learning-objectives"><i class="fa fa-check"></i><b>8.1</b> Week 7 Learning objectives</a></li>
<li class="chapter" data-level="8.2" data-path="week-7.html"><a href="week-7.html#a-framework-for-exploratory-analysis"><i class="fa fa-check"></i><b>8.2</b> A framework for exploratory analysis</a><ul>
<li class="chapter" data-level="8.2.1" data-path="week-7.html"><a href="week-7.html#do-you-have-the-right-question"><i class="fa fa-check"></i><b>8.2.1</b> Do you have the right question?</a></li>
<li class="chapter" data-level="8.2.2" data-path="week-7.html"><a href="week-7.html#do-you-have-the-right-data"><i class="fa fa-check"></i><b>8.2.2</b> Do you have the right data?</a></li>
<li class="chapter" data-level="8.2.3" data-path="week-7.html"><a href="week-7.html#can-you-sketch-a-solution-to-the-question-you-care-about"><i class="fa fa-check"></i><b>8.2.3</b> Can you sketch a solution to the question you care about?</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="week-7.html"><a href="week-7.html#some-general-eda-principles"><i class="fa fa-check"></i><b>8.3</b> Some general EDA principles</a><ul>
<li class="chapter" data-level="8.3.1" data-path="week-7.html"><a href="week-7.html#check-the-packaging"><i class="fa fa-check"></i><b>8.3.1</b> Check the packaging</a></li>
<li class="chapter" data-level="8.3.2" data-path="week-7.html"><a href="week-7.html#rectangle-your-data"><i class="fa fa-check"></i><b>8.3.2</b> Rectangle your data</a></li>
<li class="chapter" data-level="8.3.3" data-path="week-7.html"><a href="week-7.html#look-at-the-top-and-bottom"><i class="fa fa-check"></i><b>8.3.3</b> Look at the top and bottom</a></li>
<li class="chapter" data-level="8.3.4" data-path="week-7.html"><a href="week-7.html#always-be-counting"><i class="fa fa-check"></i><b>8.3.4</b> Always be counting</a></li>
<li class="chapter" data-level="8.3.5" data-path="week-7.html"><a href="week-7.html#make-a-plot"><i class="fa fa-check"></i><b>8.3.5</b> Make a plot</a></li>
<li class="chapter" data-level="8.3.6" data-path="week-7.html"><a href="week-7.html#validate-with-an-external-data-source"><i class="fa fa-check"></i><b>8.3.6</b> Validate with an external data source</a></li>
<li class="chapter" data-level="8.3.7" data-path="week-7.html"><a href="week-7.html#try-the-easy-solution"><i class="fa fa-check"></i><b>8.3.7</b> Try the easy solution</a></li>
<li class="chapter" data-level="8.3.8" data-path="week-7.html"><a href="week-7.html#follow-up"><i class="fa fa-check"></i><b>8.3.8</b> Follow up</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="week-7.html"><a href="week-7.html#organizing-an-eda"><i class="fa fa-check"></i><b>8.4</b> Organizing an EDA</a></li>
<li class="chapter" data-level="8.5" data-path="week-1.html"><a href="week-1.html#additional-resources"><i class="fa fa-check"></i><b>8.5</b> Additional Resources</a></li>
<li class="chapter" data-level="8.6" data-path="week-1.html"><a href="week-1.html#homework"><i class="fa fa-check"></i><b>8.6</b> Homework</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="week-8.html"><a href="week-8.html"><i class="fa fa-check"></i><b>9</b> Week 8</a><ul>
<li class="chapter" data-level="9.1" data-path="week-8.html"><a href="week-8.html#week-8-learning-objectives"><i class="fa fa-check"></i><b>9.1</b> Week 8 Learning objectives</a></li>
<li class="chapter" data-level="9.2" data-path="week-8.html"><a href="week-8.html#a-framework-for-modeling"><i class="fa fa-check"></i><b>9.2</b> A framework for modeling</a><ul>
<li class="chapter" data-level="9.2.1" data-path="week-8.html"><a href="week-8.html#identify-your-goal"><i class="fa fa-check"></i><b>9.2.1</b> Identify your goal</a></li>
<li class="chapter" data-level="9.2.2" data-path="week-8.html"><a href="week-8.html#form-an-analysis-plan"><i class="fa fa-check"></i><b>9.2.2</b> Form an analysis plan</a></li>
<li class="chapter" data-level="9.2.3" data-path="week-8.html"><a href="week-8.html#model-signal"><i class="fa fa-check"></i><b>9.2.3</b> Model signal</a></li>
<li class="chapter" data-level="9.2.4" data-path="week-8.html"><a href="week-8.html#account-for-artifacts"><i class="fa fa-check"></i><b>9.2.4</b> Account for artifacts</a></li>
<li class="chapter" data-level="9.2.5" data-path="week-8.html"><a href="week-8.html#build-models-up-sequentially"><i class="fa fa-check"></i><b>9.2.5</b> Build models up sequentially</a></li>
<li class="chapter" data-level="9.2.6" data-path="week-8.html"><a href="week-8.html#model-uncertainty"><i class="fa fa-check"></i><b>9.2.6</b> Model uncertainty</a></li>
<li class="chapter" data-level="9.2.7" data-path="week-8.html"><a href="week-8.html#compare-to-your-analysis-plan"><i class="fa fa-check"></i><b>9.2.7</b> Compare to your analysis plan</a></li>
<li class="chapter" data-level="9.2.8" data-path="week-8.html"><a href="week-8.html#understand-incentives"><i class="fa fa-check"></i><b>9.2.8</b> Understand incentives</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="week-1.html"><a href="week-1.html#additional-resources"><i class="fa fa-check"></i><b>9.3</b> Additional Resources</a></li>
<li class="chapter" data-level="9.4" data-path="week-1.html"><a href="week-1.html#homework"><i class="fa fa-check"></i><b>9.4</b> Homework</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="week-9.html"><a href="week-9.html"><i class="fa fa-check"></i><b>10</b> Week 9</a><ul>
<li class="chapter" data-level="10.1" data-path="week-9.html"><a href="week-9.html#week-9-learning-objectives"><i class="fa fa-check"></i><b>10.1</b> Week 9 Learning objectives</a></li>
<li class="chapter" data-level="10.2" data-path="week-9.html"><a href="week-9.html#story-telling-in-data-analysis"><i class="fa fa-check"></i><b>10.2</b> Story Telling in Data Analysis</a><ul>
<li class="chapter" data-level="10.2.1" data-path="week-9.html"><a href="week-9.html#the-central-dramatic-argument"><i class="fa fa-check"></i><b>10.2.1</b> The Central Dramatic Argument</a></li>
<li class="chapter" data-level="10.2.2" data-path="week-9.html"><a href="week-9.html#thematic-structure-and-causality"><i class="fa fa-check"></i><b>10.2.2</b> Thematic structure and causality</a></li>
<li class="chapter" data-level="10.2.3" data-path="week-9.html"><a href="week-9.html#format"><i class="fa fa-check"></i><b>10.2.3</b> Format</a></li>
<li class="chapter" data-level="10.2.4" data-path="week-9.html"><a href="week-9.html#trust-and-belief"><i class="fa fa-check"></i><b>10.2.4</b> Trust and Belief</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="week-9.html"><a href="week-9.html#the-journey-to-interesting-and-true"><i class="fa fa-check"></i><b>10.3</b> The journey to interesting and true</a></li>
<li class="chapter" data-level="10.4" data-path="week-9.html"><a href="week-9.html#data-analysis-papers"><i class="fa fa-check"></i><b>10.4</b> Data Analysis Papers</a><ul>
<li class="chapter" data-level="10.4.1" data-path="week-9.html"><a href="week-9.html#how-do-you-know-when-to-start-writing"><i class="fa fa-check"></i><b>10.4.1</b> How do you know when to start writing?</a></li>
<li class="chapter" data-level="10.4.2" data-path="week-9.html"><a href="week-9.html#structure"><i class="fa fa-check"></i><b>10.4.2</b> Structure</a></li>
<li class="chapter" data-level="10.4.3" data-path="week-9.html"><a href="week-9.html#titles"><i class="fa fa-check"></i><b>10.4.3</b> Titles</a></li>
<li class="chapter" data-level="10.4.4" data-path="week-9.html"><a href="week-9.html#abstracts"><i class="fa fa-check"></i><b>10.4.4</b> Abstracts</a></li>
<li class="chapter" data-level="10.4.5" data-path="week-9.html"><a href="week-9.html#introductions"><i class="fa fa-check"></i><b>10.4.5</b> Introductions</a></li>
<li class="chapter" data-level="10.4.6" data-path="week-9.html"><a href="week-9.html#results"><i class="fa fa-check"></i><b>10.4.6</b> Results</a></li>
<li class="chapter" data-level="10.4.7" data-path="week-9.html"><a href="week-9.html#methods-sections"><i class="fa fa-check"></i><b>10.4.7</b> Methods sections</a></li>
<li class="chapter" data-level="10.4.8" data-path="week-9.html"><a href="week-9.html#conclusions-and-discussion"><i class="fa fa-check"></i><b>10.4.8</b> Conclusions and discussion</a></li>
<li class="chapter" data-level="10.4.9" data-path="week-9.html"><a href="week-9.html#supplementary-material"><i class="fa fa-check"></i><b>10.4.9</b> Supplementary material</a></li>
</ul></li>
<li class="chapter" data-level="10.5" data-path="week-9.html"><a href="week-9.html#a-few-matters-of-form"><i class="fa fa-check"></i><b>10.5</b> A few matters of form</a></li>
<li class="chapter" data-level="10.6" data-path="week-1.html"><a href="week-1.html#additional-resources"><i class="fa fa-check"></i><b>10.6</b> Additional Resources</a></li>
<li class="chapter" data-level="10.7" data-path="week-1.html"><a href="week-1.html#homework"><i class="fa fa-check"></i><b>10.7</b> Homework</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="week-10.html"><a href="week-10.html"><i class="fa fa-check"></i><b>11</b> Week 10</a><ul>
<li class="chapter" data-level="11.1" data-path="week-10.html"><a href="week-10.html#week-10-learning-objectives"><i class="fa fa-check"></i><b>11.1</b> Week 10 Learning objectives</a></li>
<li class="chapter" data-level="11.2" data-path="week-10.html"><a href="week-10.html#exploratoy-vs-expository"><i class="fa fa-check"></i><b>11.2</b> Exploratoy vs expository</a></li>
<li class="chapter" data-level="11.3" data-path="week-10.html"><a href="week-10.html#creating-expository-graphs"><i class="fa fa-check"></i><b>11.3</b> Creating Expository Graphs</a><ul>
<li class="chapter" data-level="11.3.1" data-path="week-10.html"><a href="week-10.html#background-color"><i class="fa fa-check"></i><b>11.3.1</b> Background color</a></li>
<li class="chapter" data-level="11.3.2" data-path="week-10.html"><a href="week-10.html#axis-titles-and-axis-labels"><i class="fa fa-check"></i><b>11.3.2</b> Axis titles and axis labels</a></li>
<li class="chapter" data-level="11.3.3" data-path="week-10.html"><a href="week-10.html#legends-or-not"><i class="fa fa-check"></i><b>11.3.3</b> Legends (or not!)</a></li>
<li class="chapter" data-level="11.3.4" data-path="week-10.html"><a href="week-10.html#titles-with-color"><i class="fa fa-check"></i><b>11.3.4</b> Titles (with color!)</a></li>
<li class="chapter" data-level="11.3.5" data-path="week-10.html"><a href="week-10.html#adding-a-model-fit"><i class="fa fa-check"></i><b>11.3.5</b> Adding a model fit</a></li>
<li class="chapter" data-level="11.3.6" data-path="week-10.html"><a href="week-10.html#figure-captions"><i class="fa fa-check"></i><b>11.3.6</b> Figure captions</a></li>
<li class="chapter" data-level="11.3.7" data-path="week-10.html"><a href="week-10.html#colors-and-fonts"><i class="fa fa-check"></i><b>11.3.7</b> Colors and fonts</a></li>
<li class="chapter" data-level="11.3.8" data-path="week-10.html"><a href="week-10.html#multi-panel-plots"><i class="fa fa-check"></i><b>11.3.8</b> Multi-panel plots</a></li>
<li class="chapter" data-level="11.3.9" data-path="week-10.html"><a href="week-10.html#miscellaneous-advice"><i class="fa fa-check"></i><b>11.3.9</b> Miscellaneous Advice</a></li>
</ul></li>
<li class="chapter" data-level="11.4" data-path="week-10.html"><a href="week-10.html#creating-expository-tables"><i class="fa fa-check"></i><b>11.4</b> Creating Expository Tables</a><ul>
<li class="chapter" data-level="11.4.1" data-path="week-10.html"><a href="week-10.html#table-1"><i class="fa fa-check"></i><b>11.4.1</b> Table 1</a></li>
<li class="chapter" data-level="11.4.2" data-path="week-10.html"><a href="week-10.html#color-in-tables"><i class="fa fa-check"></i><b>11.4.2</b> Color in tables</a></li>
<li class="chapter" data-level="11.4.3" data-path="week-10.html"><a href="week-10.html#captions"><i class="fa fa-check"></i><b>11.4.3</b> Captions</a></li>
</ul></li>
<li class="chapter" data-level="11.5" data-path="week-10.html"><a href="week-10.html#scientific-graphics-vs-infographics"><i class="fa fa-check"></i><b>11.5</b> Scientific graphics vs infographics</a></li>
<li class="chapter" data-level="11.6" data-path="week-1.html"><a href="week-1.html#additional-resources"><i class="fa fa-check"></i><b>11.6</b> Additional Resources</a></li>
<li class="chapter" data-level="11.7" data-path="week-1.html"><a href="week-1.html#homework"><i class="fa fa-check"></i><b>11.7</b> Homework</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Advanced Data Science 2020</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="week-5" class="section level1">
<h1><span class="header-section-number">6</span> Week 5</h1>
<div id="week-5-learning-objectives" class="section level2">
<h2><span class="header-section-number">6.1</span> Week 5 Learning Objectives</h2>
<div class="keyidea">
<p>At the end of this lesson you will be able to:</p>
<ul>
<li>Appropriately understand and weight skepticism and discovery and data science</li>
<li>Identify and fix key problems with data analytic figures</li>
<li>Identify common data analytic mistakes and their characteristics</li>
<li>Identify common over-skepticism pitfalls and think carefully about the skepticism/discovery tradeoff</li>
</ul>
</div>
</div>
<div id="skepticism-vs.-discovery" class="section level2">
<h2><span class="header-section-number">6.2</span> Skepticism vs. Discovery</h2>
<blockquote>
<p>The first principle is that you must not fool yourself – and you are the easiest person to fool.
- Richard Feynman</p>
</blockquote>
<p>Statisticians often think of themselves as referees - we have the habit of standing just outside of a scientific field and poking holes in the choices that the analysts or scientists made when analyzing their data. This isn’t entirely bad, as skepticism is a key component of performing thoughtful data analysis.</p>
<p>But being a data scientist or doing data science involves a more delicate tradeoff. You have both be searching for new discoveries and simultaneously skeptical of what you find. Getting to the right place in the discovery vs. skepticism balance will depend somewhat on the role you are playing - statisticians at the FDA should be more skeptical, while data scientists at new startups made need to focus on discovery. However, all working data scientists should both be aware of the tradeoff and think carefully about where they want to be in terms of balance.</p>
<p>If you tilt too far toward skepticism, you will inevitably not be involved in the biggest and most exciting discoveries we can make with data. But if you strive entirely for discovery you will almost certainly fool yourself and others. Perhaps the greatest complement you can pay to a data scientist is that they are thoughtful about the way they consider a data set.</p>
<p>This has actually been a huge challenge for the field of statistics - which has traditionally heavily weighted skepticism. In many of the early (and ongoing!) data science initiatives you won’t find many statisticians. This is both bad for data science and bad for statisticians. As Roger put it in his post <a href="https://simplystatistics.org/2012/06/22/statistics-and-the-science-club/">Statistics and the Science Club</a> (from way back in 2012!):</p>
<blockquote>
<p>[Data Science] presents an enormous opportunity for statisticians to play a new leadership role in scientific investigations because we have the skills to extract information from the data that no one else has (at least for the moment). But now we have to choose between being “in the club” by leading the science or remaining outside the club to be unbiased arbiters. I think as an individual it’s very difficult to be both simply because there are only 24 hours in the day. It takes an enormous amount of time to learn the scientific background required to lead scientific investigations and this is piled on top of whatever statistical training you receive.</p>
<p>However, I think as a field, we desperately need to promote both kinds of people, if only because we are the best people for the job. We need to expand the tent of statistics and include people who are using their statistical training to lead the new science. They may not be publishing papers in the Annals of Statistics or in JASA, but they are statisticians. If we do not move more in this direction, we risk missing out on one of the most exciting developments of our lifetime.</p>
</blockquote>
<p>Fortunately since Roger wrote this statistics as a field has slowly become more supportive of data science and open to different weights on skepticism vs. discovery. But it still is an important tradeoff that each field must consider. As Rafa Irizarry <a href="https://simplystatistics.org/2013/08/01/the-roc-curves-of-science/#:~:text=ROC%20curves%20plot%20true%20positive,for%20a%20given%20classifying%20procedure.&amp;text=The%20current%20state%20of%20biomedical,rarely%20comment%20on%20the%20TPR">put it</a>:</p>
<blockquote>
<p>Few will deny that our current system, with all its flaws, still produces important discoveries. Many of the pessimists’ proposals for reducing false positives seem to be, in one way or another, a call for being more conservative in reporting findings. Example of recommendations include that we require larger effect sizes or smaller p-values, that we correct for the “researcher degrees of freedom”, and that we use Bayesian analyses with pessimistic priors. I tend to agree with many of these recommendations but I have yet to see a specific proposal on exactly how conservative we should be. Note that we could easily bring the false positives all the way down to 0 by simply taking this recommendation to its extreme and stop publishing biomedical research results all together.</p>
</blockquote>
<p>He goes on to produce this hypothetical ROC curve for the scientific enterprise. An ROC curve plots the rate of true discoveries on the y-axis (in this case, hypothetical true discoveries per decade) versus the number of false discoveries (in this case, hypothetical false discoveries per decade). He highlights two fields - physics and biology. Physics as a more mature, and possibly more well understood field, makes many discoveries even with a strict cutoff for false discoveries. Biomedical sciences is much less well understood and so offers the potential for more discoveries, however, if we are too strict with our approach we may miss many important discoveries in our effort to root out all potential false discoveries.</p>
<p><img src="https://raw.githubusercontent.com/simplystats/simplystats.github.io/master/wp-content/uploads/2013/07/Slide1.png" /></p>
<p>This week we will focus on how to identify potential issues with a data analysis - while we do this we should be aware that though these techniques of skepticism are important, we should also be careful to not over apply them lest we miss the opportunity to find important discoveries.</p>
</div>
<div id="figures" class="section level2">
<h2><span class="header-section-number">6.3</span> Figures</h2>
<p>We will cover the creation of figures for papers in a separate lecture. But there are a few principles to consider when evaluating a figure in a data analysis. Many of these ideas are borrowed from <a href="https://www.biostat.wisc.edu/~kbroman/presentations/graphs_MDPhD2014.pdf">Karl Broman</a>. There are a variety of reasons to create statistical graphics, infographics, and data visualizations. They depend on the audience and community. However, for data analyses intended to support a scientific claim, there are a few common categories of issues you should look out for.</p>
<div id="just-modeling-results---show-the-data" class="section level3">
<h3><span class="header-section-number">6.3.1</span> Just modeling results -&gt; show the data!</h3>
<p>In many data analytic reports you will find a series of tables and regression modeling results, but no graphical displays of the data whatsoever. It is well known that regression models can obscure important data characteristics. One of the earliest example is Anscombe’s quartet - a set of four data sets that have exactly identical regression coefficients, statistics, and inference, but have wildly different behavior.</p>
<p><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/e/ec/Anscombe%27s_quartet_3.svg/2560px-Anscombe%27s_quartet_3.svg.png" /></p>
<p>A more hilarious recent version is the <a href="https://www.autodeskresearch.com/publications/samestats">Datasaurus dozen</a>, a set of twelve data sets that all have identical regression summaries (same mean in x, same mean in y, same correlation, same standard deviation, etc)</p>
<p><img src="https://d2f99xq7vri1nk.cloudfront.net/DinoSequentialSmaller.gif" /></p>
<p>If an analysis produces only statistical summaries and no visualizations of the data, then you should be skeptical that something could be going on “under the hood”. Similarly, when performing your own data analyses you should be sure to show the data.</p>
</div>
<div id="dynamite-plots---scatterplots" class="section level3">
<h3><span class="header-section-number">6.3.2</span> Dynamite plots -&gt; scatterplots</h3>
<p>Another very popular type of plot is the “dynamite plot” (shown on the left here in this <a href="https://journals.plos.org/plosbiology/article?id=10.1371/journal.pbio.1002128">great paper on data visualization in biology</a>)</p>
<p><img src="https://journals.plos.org/plosbiology/article/figure/image?size=large&amp;id=info:doi/10.1371/journal.pbio.1002128.g001" /></p>
<p>Dynamite plots are very popular in molecular biology but often appear in other forums as well. As you can see though, the reporting of just a mean and variance can obscure wildly different data distributions. Be wary of dynamite plots in published analyses, especially with small sample sizes. In your own analyses you can use <a href="https://github.com/eclarke/ggbeeswarm">beeswarm plots</a> or <a href="https://www.r-graph-gallery.com/89-box-and-scatter-plot-with-ggplot2.html">boxplots with points overlayed</a>.</p>
</div>
<div id="ridiculograms---clustering-diagrams" class="section level3">
<h3><span class="header-section-number">6.3.3</span> Ridiculograms -&gt; clustering diagrams</h3>
<p><a href="https://www.youtube.com/watch?v=YS-asmU3p_4">Ridiculograms</a> have been defined as</p>
<blockquote>
<p>Visually stunning, scientifically worthless, and published on the cover of Science or Nature</p>
</blockquote>
<p>These graphs take the form of a tangled hairball network diagram like these.</p>
<p><img src="https://www.researchgate.net/profile/Mikael_Huss2/publication/51127558/figure/fig5/AS:340002589429761@1458074342823/Ridiculograms-of-the-human-metabolism-and-Earths-atmospheric-reaction-system-in.png" /></p>
<p>It is often better to show more of the data and create clustering diagrams as an alternative to ridiculograms as described <a href="https://europepmc.org/article/pmc/pmc5333167#CR16">in this paper</a>.</p>
<p><img src="https://europepmc.org/articles/PMC5333167/bin/12859_2016_1442_Fig1_HTML.jpg" /></p>
<p>A good package for creating nicely labeled heatmaps in R is the <a href="https://davetang.org/muse/2018/05/15/making-a-heatmap-in-r-with-the-pheatmap-package/">pheatmap</a> package.</p>
</div>
<div id="venn-diagrams---upset-plots" class="section level3">
<h3><span class="header-section-number">6.3.4</span> Venn diagrams -&gt; upset plots</h3>
<p>Venn diagrams are often used in data analyses to represent intersections between groups. However, if the number of intersections starts to grow even in a bit you can end up with some fairly difficult to read and often borderline silly graphs like this.</p>
<p><img src="https://media.springernature.com/lw685/springer-static/image/art%3A10.1038%2Fnature11241/MediaObjects/41586_2012_Article_BFnature11241_Fig4_HTML.jpg" />
An alternative approach for complicated intersections that is often much easier to read (and less likely to end up bananas) is the UpSet plot which you can make with the unhelpfully capitalized <a href="https://cran.r-project.org/web/packages/UpSetR/index.html">UpSetR</a> package.</p>
<p><img src="https://cloud.githubusercontent.com/assets/12614369/8468576/18d5ef52-203c-11e5-9f5d-e034ec41c538.png" /></p>
<p>These plots represent the most common intersections and also can be used to illustrate both marginal and conditional relationships.</p>
</div>
<div id="extreme-variation-in-scales---log-scales" class="section level3">
<h3><span class="header-section-number">6.3.5</span> Extreme variation in scales -&gt; log scales</h3>
<p>For many types of measurement devices, data can be measured on a very broad range of scales. Here is an example from two microarrays measuring the same 20,000 genes on two different samples from <a href="https://www.biostat.wisc.edu/~kbroman/presentations/graphs2018.pdf">Karl Broman’s lecture</a>.</p>
<p><img src="images/week5/bromanlog1.png" /></p>
<p>But what you can’t see in this plot is the data is highly concentrated at smaller scales - with 50 percent of the data below the pink line and 99 percent of the data below the blue line.</p>
<p><img src="images/week5/bromanlog2.png" /></p>
<p>When you see plots like this that span a very large range with possible outliers, you might dig in deeper to see if a lot of the variation in the data is being obscured by the larger measurements. One solution is to plot the data on the log scale - so the data are more visible.</p>
<p><img src="images/week5/bromanlog3.png" /></p>
</div>
<div id="correlated-measurements---ma-plots" class="section level3">
<h3><span class="header-section-number">6.3.6</span> Correlated measurements -&gt; MA plots</h3>
<p>It is very common when comparing two measurements of the same thing to plot the measurements on the x and y axis and measure the correlation. But this can be deceiving, especially if the measurements are on very different scales. When you see comparisons of measurements in an x-y scatterplot, you should ask yourself what is the difference between those measurements. An alternative way to show that comparison (using the same example as above) is to plot the difference between the values on the y-axis and the sum of the values on the x-axis. This plot has been discovered multiple times, so is called different things in differnet fields. In medicine it is a <a href="https://en.wikipedia.org/wiki/Bland%E2%80%93Altman_plot">Bland-Altman plot</a> and in genomics it is an <a href="https://en.wikipedia.org/wiki/MA_plot#:~:text=An%20MA%20plot%20is%20an,scales%2C%20then%20plotting%20these%20values.">MA-plot</a> among other names.</p>
<p><img src="images/week5/bromanma.png" /></p>
</div>
<div id="axes-cutoff---plot-to-zero" class="section level3">
<h3><span class="header-section-number">6.3.7</span> Axes cutoff -&gt; plot to zero</h3>
<p>When reading barplots, it is important to check the y-axis. Often a plot can seem to show big differences - for example the plot on the right.</p>
<p><img src="images/week5/bromanzeroaxis.png" /></p>
<p>However, when you set the axis all the way to zero it may be clear that the numbers are only separated by a small amount. This is one of the most commonly used techniques for <a href="https://www.businessinsider.com/fox-news-charts-tricks-data-2012-11">deceiving with graphs</a>. But both ways can be appropriate - it depends on what difference actually matters. The main thing here is to check the y-axis and in your own plots, to point out if you don’t start the axis at zero prominently.</p>
</div>
<div id="d-graphics---just-dont" class="section level3">
<h3><span class="header-section-number">6.3.8</span> 3d graphics -&gt; just don’t</h3>
<p>3-D graphs are common in some charting software. They distract, <a href="https://www.data-to-viz.com/caveat/3d.html">they make comparisons harder</a>. If you see them, you should be skeptical about what is being hidden. In your own practice, just don’t.</p>
<p><img src="https://qph.fs.quoracdn.net/main-qimg-36a7cb1cce69189933eacb2a9f9e96ab.webp" /></p>
</div>
<div id="pie-charts---adjacent-bar-plots" class="section level3">
<h3><span class="header-section-number">6.3.9</span> Pie charts -&gt; adjacent bar plots</h3>
<p>The statistician Bill Cleveland did a <a href="http://www.jstor.org/stable/2288400">famous experiment</a> where he showed people two types of graphs - pie charts and line charts.</p>
<p><img src="images/week5/cleveland1.png" /></p>
<p>Then he asked them to estimate the size of the dotted portion of the graph. People had much lower error when juding length in side-by-side barplots than in pie charts.</p>
<p><img src="images/week5/cleveland2.png" /></p>
<p>This experiment is why statisticians don’t like pie charts! If you see one, especially with many slices - you might want to look for the data in tabular form. If you are doing the analysis yourself put the data in bars.</p>
</div>
<div id="difficult-comparisons---put-things-close-on-linear-axes" class="section level3">
<h3><span class="header-section-number">6.3.10</span> Difficult comparisons -&gt; put things close on linear axes</h3>
<p>From Karl’s lecture consider comparing the blue element to the pink element. Which case is easiest?</p>
<p><img src="images/week5/bromancomparisontypes.png" /></p>
<p>If you see a very complicated comparison asking you to compare small slices of two separate pie charts, be skeptical that you will be able to make that comparison well. In general putting things on a linear scale and close together when making a comparison makes it easier for the reader.</p>
</div>
<div id="comparisons-hard-to-make-between-plots---use-common-axes" class="section level3">
<h3><span class="header-section-number">6.3.11</span> Comparisons hard to make between plots -&gt; use common axes</h3>
<p>If you see a comparison between two plots in different panels, it is important to check to make sure the axes are on the same scale as it can be really deceiving if they aren’t.</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="week-5.html#cb26-1"></a><span class="kw">library</span>(tidyverse)</span>
<span id="cb26-2"><a href="week-5.html#cb26-2"></a><span class="kw">library</span>(patchwork)</span>
<span id="cb26-3"><a href="week-5.html#cb26-3"></a>dat =<span class="st"> </span><span class="kw">tibble</span>(<span class="dt">x=</span><span class="kw">rnorm</span>(<span class="dv">100</span>,<span class="dt">mean=</span><span class="dv">2</span>),<span class="dt">y=</span><span class="kw">rnorm</span>(<span class="dv">100</span>,<span class="dt">mean=</span><span class="dv">25</span>))</span>
<span id="cb26-4"><a href="week-5.html#cb26-4"></a></span>
<span id="cb26-5"><a href="week-5.html#cb26-5"></a>p1 =<span class="st"> </span>dat <span class="op">%&gt;%</span></span>
<span id="cb26-6"><a href="week-5.html#cb26-6"></a><span class="st">        </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">y=</span>x)) <span class="op">+</span><span class="st"> </span><span class="kw">geom_boxplot</span>() <span class="op">+</span><span class="st"> </span><span class="kw">theme_minimal</span>()</span>
<span id="cb26-7"><a href="week-5.html#cb26-7"></a>p2 =<span class="st"> </span>dat <span class="op">%&gt;%</span></span>
<span id="cb26-8"><a href="week-5.html#cb26-8"></a><span class="st">        </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">y=</span>y)) <span class="op">+</span><span class="st"> </span><span class="kw">geom_boxplot</span>() <span class="op">+</span><span class="st"> </span><span class="kw">theme_minimal</span>()</span>
<span id="cb26-9"><a href="week-5.html#cb26-9"></a></span>
<span id="cb26-10"><a href="week-5.html#cb26-10"></a>pcombined =<span class="st"> </span>p1 <span class="op">+</span><span class="st"> </span>p2</span>
<span id="cb26-11"><a href="week-5.html#cb26-11"></a>pcombined</span></code></pre></div>
<p><img src="05-week_files/figure-html/unnamed-chunk-1-1.png" width="672" /></p>
<p>In general if you see comparisons like this where the axes aren’t on the same scale, you might be concerned that the author doesn’t realize the measurements aren’t compararable. In your own analysis, you will want to make sure comparisons across plots have aligned axes and axes on the same scale.</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="week-5.html#cb27-1"></a>pcombined <span class="op">&amp;</span><span class="st"> </span><span class="kw">ylim</span>(<span class="op">-</span><span class="dv">1</span>,<span class="dv">28</span>) </span></code></pre></div>
<p><img src="05-week_files/figure-html/unnamed-chunk-2-1.png" width="672" /></p>
</div>
<div id="legends-hard-to-follow---use-labels" class="section level3">
<h3><span class="header-section-number">6.3.12</span> Legends hard to follow -&gt; use labels</h3>
<p>Legends in graphs often make you do two steps at once: (1) figure out what a color or size means and (2) make the comparison between levels of that color or size. For example on the left the color is labeled in a legend. You have to glance up to the legend, then back to the graph to follow what is going on. It is much easier if the labels appear directly on the graph.</p>
<p><img src="images/week5/bromanlabels.png" /></p>
<p>This is not to say that legends on graphs are bad! But moving toward labels encourages simplicity in the labels and reduces cognitive overhead on the reader.</p>
</div>
<div id="confounders-arent-clear---color-by-confounder" class="section level3">
<h3><span class="header-section-number">6.3.13</span> Confounders aren’t clear -&gt; color by confounder</h3>
<p>When you are looking at a scatterplot in a paper for a primary comparison or correlation where important confounders have been discussed - always look for a graph where the points have been colored by the values of the confounder. For example here is a plot of the top two principal components of a gene expression data set from <a href="http://genomicsclass.github.io/book/">Rafa Irizarry’s genomics book</a>.</p>
<p><img src="http://genomicsclass.github.io/book/pages/figure/eda_with_pca-mds_plot2-1.png" /></p>
<p>The PCs have been colored by the year the samples were processed. You can see that there is a clear relationship between the PCs and the date the samples were processed - making it an important potential confounder!</p>
</div>
</div>
<div id="common-data-analytic-fallacies" class="section level2">
<h2><span class="header-section-number">6.4</span> Common data analytic fallacies</h2>
<p><em>This section based on the <a href="https://jhu-advdatasci.github.io/2019/lectures/07-being-skeptical.html">fantastic lecture</a> by Stephanie Hicks and derived from material in Rafa Irizarry’s <a href="https://rafalab.github.io/dsbook/">data science book</a> - this section is licensed <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> based on Rafa’s license.</em></p>
<p>As we learned last week, Skepticism is one of the key principles of data
analysis. Perhaps the best known piece of skepticism we teach to statistics students is that:
&gt; “Correlation is not causation”</p>
<p>In our course we will consider tools useful for
quantifying associations between variables. However,
we must be careful not to overinterpret these associations.</p>
<p>There are many reasons that a variable <span class="math inline">\(X\)</span> can be
correlated with a variable <span class="math inline">\(Y\)</span> without either being a
cause for the other. Here we examine three common ways
that can lead to misinterpreting data.</p>
<ol style="list-style-type: decimal">
<li>Spurious correlation</li>
<li>Outliers</li>
<li>Reversing cause and effect</li>
<li>Confounders</li>
</ol>
<p>Next, we will discuss in detail what each of these are
and give an example.</p>
<div id="spurious-correlation" class="section level3">
<h3><span class="header-section-number">6.4.1</span> Spurious correlation</h3>
<p>First we load some packages we will use</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="week-5.html#cb28-1"></a><span class="kw">library</span>(tidyverse)</span>
<span id="cb28-2"><a href="week-5.html#cb28-2"></a><span class="kw">library</span>(broom) <span class="co"># installed, but not loaded with library(tidyverse)</span></span>
<span id="cb28-3"><a href="week-5.html#cb28-3"></a><span class="kw">library</span>(dslabs) <span class="co"># needs to be installed </span></span>
<span id="cb28-4"><a href="week-5.html#cb28-4"></a><span class="kw">library</span>(HistData) <span class="co"># needs to be installed </span></span></code></pre></div>
<p>The following comical example underscores that correlation
is not causation. It shows a very strong correlation between
divorce rates and margarine consumption.</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="week-5.html#cb29-1"></a>the_title &lt;-<span class="st"> </span><span class="kw">paste</span>(<span class="st">&quot;Correlation =&quot;</span>, </span>
<span id="cb29-2"><a href="week-5.html#cb29-2"></a>      <span class="kw">round</span>(<span class="kw">with</span>(divorce_margarine, </span>
<span id="cb29-3"><a href="week-5.html#cb29-3"></a>      <span class="kw">cor</span>(margarine_consumption_per_capita, divorce_rate_maine)),<span class="dv">2</span>))</span>
<span id="cb29-4"><a href="week-5.html#cb29-4"></a><span class="kw">data</span>(divorce_margarine)</span>
<span id="cb29-5"><a href="week-5.html#cb29-5"></a>divorce_margarine <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb29-6"><a href="week-5.html#cb29-6"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(margarine_consumption_per_capita, </span>
<span id="cb29-7"><a href="week-5.html#cb29-7"></a>             divorce_rate_maine)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb29-8"><a href="week-5.html#cb29-8"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">cex=</span><span class="dv">3</span>) <span class="op">+</span><span class="st"> </span></span>
<span id="cb29-9"><a href="week-5.html#cb29-9"></a><span class="st">  </span><span class="kw">geom_smooth</span>(<span class="dt">method =</span> <span class="st">&quot;lm&quot;</span>) <span class="op">+</span><span class="st"> </span></span>
<span id="cb29-10"><a href="week-5.html#cb29-10"></a><span class="st">  </span><span class="kw">ggtitle</span>(the_title) <span class="op">+</span></span>
<span id="cb29-11"><a href="week-5.html#cb29-11"></a><span class="st">  </span><span class="kw">xlab</span>(<span class="st">&quot;Margarine Consumption per Capita (lbs)&quot;</span>) <span class="op">+</span><span class="st"> </span></span>
<span id="cb29-12"><a href="week-5.html#cb29-12"></a><span class="st">  </span><span class="kw">ylab</span>(<span class="st">&quot;Divorce rate in Maine (per 1000)&quot;</span>)</span></code></pre></div>
<pre><code>## `geom_smooth()` using formula &#39;y ~ x&#39;</code></pre>
<p><img src="05-week_files/figure-html/unnamed-chunk-4-1.png" width="672" /></p>
<p>Does this mean that margarine causes divorces? Or do
divorces cause people to eat more margarine? Of course
the answer to both these questions is no. This is just
an example of what we call a <em>spurious correlation</em>.</p>
<p>You can see many more absurd examples of
<a href="http://tylervigen.com/spurious-correlations">this wesbsite</a>
completely dedicated to <em>spurious correlations</em>.</p>
<p>The cases presented in the <em>spurious correlation</em> site
are all examples of what is generally called <em>data dredging</em>,
<em>data fishing</em>, or <em>data snooping</em>. It’s basically a form
of what in the US they call <em>cherry picking</em>. An example
of data dredging would be if you look through many results
produced by a random process and pick the one that shows
a relationship that supports a theory you want to defend.</p>
<p>A Monte Carlo simulation can be used to show how data
dredging can result in finding high correlations
among uncorrelated variables. We will save the results
of our simulation into a tibble:</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="week-5.html#cb31-1"></a>N &lt;-<span class="st"> </span><span class="dv">25</span></span>
<span id="cb31-2"><a href="week-5.html#cb31-2"></a>G &lt;-<span class="st"> </span><span class="dv">10000</span></span>
<span id="cb31-3"><a href="week-5.html#cb31-3"></a><span class="kw">set.seed</span>(<span class="dv">1000</span>)</span>
<span id="cb31-4"><a href="week-5.html#cb31-4"></a>sim_data &lt;-<span class="st"> </span><span class="kw">tibble</span>(<span class="dt">group =</span> <span class="kw">rep</span>(<span class="dv">1</span><span class="op">:</span>G, <span class="dt">each =</span> N),</span>
<span id="cb31-5"><a href="week-5.html#cb31-5"></a>                   <span class="dt">X =</span> <span class="kw">rnorm</span>(N<span class="op">*</span>G), <span class="dt">Y =</span> <span class="kw">rnorm</span>(N<span class="op">*</span>G))</span>
<span id="cb31-6"><a href="week-5.html#cb31-6"></a>sim_data</span></code></pre></div>
<pre><code>## # A tibble: 250,000 x 3
##    group       X       Y
##    &lt;int&gt;   &lt;dbl&gt;   &lt;dbl&gt;
##  1     1 -0.446  -0.312 
##  2     1 -1.21    0.0613
##  3     1  0.0411  1.17  
##  4     1  0.639  -1.32  
##  5     1 -0.787   1.89  
##  6     1 -0.385  -1.04  
##  7     1 -0.476   0.446 
##  8     1  0.720   0.396 
##  9     1 -0.0185  0.864 
## 10     1 -1.37    1.10  
## # … with 249,990 more rows</code></pre>
<p>The first columns denotes group and we simulated
of
groups each with 25 observations. For each group we
generate 25 observations, which are stored in the
second and third columns. These are just random independent
normally distributed data. So we know, because we
constructed the simulation, that <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span> are not correlated.</p>
<p>Next, we compute the correlation between <code>X</code> and <code>Y</code>
for each group and look at the max:</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="week-5.html#cb33-1"></a>res &lt;-<span class="st"> </span>sim_data <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb33-2"><a href="week-5.html#cb33-2"></a><span class="st">  </span><span class="kw">group_by</span>(group) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb33-3"><a href="week-5.html#cb33-3"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">summarize</span>(<span class="dt">r =</span> <span class="kw">cor</span>(X, Y)) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb33-4"><a href="week-5.html#cb33-4"></a><span class="st">  </span><span class="kw">arrange</span>(<span class="kw">desc</span>(r))</span></code></pre></div>
<pre><code>## `summarise()` ungrouping output (override with `.groups` argument)</code></pre>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="week-5.html#cb35-1"></a>res</span></code></pre></div>
<pre><code>## # A tibble: 10,000 x 2
##    group     r
##    &lt;int&gt; &lt;dbl&gt;
##  1  2519 0.641
##  2  7746 0.620
##  3  5914 0.598
##  4  5516 0.589
##  5  3488 0.582
##  6  7531 0.581
##  7  2549 0.581
##  8  1362 0.573
##  9  7072 0.573
## 10  7544 0.571
## # … with 9,990 more rows</code></pre>
<p>We see a correlation of 0.641 and if
you just plot the data from that group it shows a
convincing plot that <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span> are in fact correlated:</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="week-5.html#cb37-1"></a>sim_data <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb37-2"><a href="week-5.html#cb37-2"></a><span class="st">  </span><span class="kw">filter</span>(group <span class="op">==</span><span class="st"> </span>res<span class="op">$</span>group[<span class="kw">which.max</span>(res<span class="op">$</span>r)]) <span class="op">%&gt;%</span></span>
<span id="cb37-3"><a href="week-5.html#cb37-3"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(X, Y)) <span class="op">+</span></span>
<span id="cb37-4"><a href="week-5.html#cb37-4"></a><span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span><span class="st"> </span></span>
<span id="cb37-5"><a href="week-5.html#cb37-5"></a><span class="st">  </span><span class="kw">geom_smooth</span>(<span class="dt">method =</span> <span class="st">&quot;lm&quot;</span>)</span></code></pre></div>
<pre><code>## `geom_smooth()` using formula &#39;y ~ x&#39;</code></pre>
<p><img src="05-week_files/figure-html/unnamed-chunk-7-1.png" width="672" /></p>
<p>Remember that the correlation summary is a random variable.
Here is the distribution generated by the Monte Carlo
simulation:</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="week-5.html#cb39-1"></a>res <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb39-2"><a href="week-5.html#cb39-2"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x=</span>r)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb39-3"><a href="week-5.html#cb39-3"></a><span class="st">  </span><span class="kw">geom_histogram</span>(<span class="dt">binwidth =</span> <span class="fl">0.1</span>, <span class="dt">color =</span> <span class="st">&quot;black&quot;</span>)</span></code></pre></div>
<p><img src="05-week_files/figure-html/unnamed-chunk-8-1.png" width="672" /></p>
<p>It is just a mathematical fact that if we observe
10^{4} random correlations that are expected to
be 0 but have a standard error of
0.204, the largest one will be
close 1.</p>
<p><strong>Note</strong>: If we performed regression on this group and
interpreted the p-value, we would incorrectly claim this
was a statistically significant relation:</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="week-5.html#cb40-1"></a>sim_data <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb40-2"><a href="week-5.html#cb40-2"></a><span class="st">  </span><span class="kw">filter</span>(group <span class="op">==</span><span class="st"> </span>res<span class="op">$</span>group[<span class="kw">which.max</span>(res<span class="op">$</span>r)]) <span class="op">%&gt;%</span></span>
<span id="cb40-3"><a href="week-5.html#cb40-3"></a><span class="st">  </span><span class="kw">do</span>(<span class="kw">tidy</span>(<span class="kw">lm</span>(Y <span class="op">~</span><span class="st"> </span>X, <span class="dt">data =</span> .)))</span></code></pre></div>
<pre><code>## # A tibble: 2 x 5
##   term        estimate std.error statistic  p.value
##   &lt;chr&gt;          &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;
## 1 (Intercept)   0.0923     0.151     0.613 0.546   
## 2 X             0.469      0.117     4.01  0.000548</code></pre>
<p>This particular form of data dredging is referred to
as <em>p-hacking</em>. P-hacking is a topic of much discussion
because it is a problem in scientific publications.</p>
<p>Because publishers tend to reward statistically significant
results over negative results, there is an incentive to
report significant results. In epidemiology and the social
sciences, for example, researchers may look for associations
between an adverse outcome and several exposures and report
only the one exposure that resulted in a small p-value.
Furthermore, they might try fitting several different models
to adjust for confounding and pick the one that yields
the smallest p-value. In experimental disciplines, an
experiment might be repeated more than once, yet only the
results of the one experiment with a small p-value reported.</p>
<p>This does not necessarily happen due to unethical behavior,
but rather to statistical ignorance or wishful thinking. In
advanced statistics courses you learn methods to adjust
for these multiple comparisons.</p>
</div>
<div id="outliers" class="section level3">
<h3><span class="header-section-number">6.4.2</span> Outliers</h3>
<p>Suppose we take measurements from two independent outcomes,
<span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span>, and we standardize the measurements. However,
imagine we make a mistake and forget to standardize
entry 23. We can simulate such data using:</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="week-5.html#cb42-1"></a><span class="kw">set.seed</span>(<span class="dv">1</span>)</span>
<span id="cb42-2"><a href="week-5.html#cb42-2"></a>x &lt;-<span class="st"> </span><span class="kw">rnorm</span>(<span class="dv">100</span>,<span class="dv">100</span>,<span class="dv">1</span>)</span>
<span id="cb42-3"><a href="week-5.html#cb42-3"></a>y &lt;-<span class="st"> </span><span class="kw">rnorm</span>(<span class="dv">100</span>,<span class="dv">84</span>,<span class="dv">1</span>)</span>
<span id="cb42-4"><a href="week-5.html#cb42-4"></a>x[<span class="op">-</span><span class="dv">23</span>] &lt;-<span class="st"> </span><span class="kw">scale</span>(x[<span class="op">-</span><span class="dv">23</span>])</span>
<span id="cb42-5"><a href="week-5.html#cb42-5"></a>y[<span class="op">-</span><span class="dv">23</span>] &lt;-<span class="st"> </span><span class="kw">scale</span>(y[<span class="op">-</span><span class="dv">23</span>])</span></code></pre></div>
<p>The data look like this:</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="week-5.html#cb43-1"></a><span class="kw">tibble</span>(x,y) <span class="op">%&gt;%</span></span>
<span id="cb43-2"><a href="week-5.html#cb43-2"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(x,y)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb43-3"><a href="week-5.html#cb43-3"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">alpha =</span> <span class="fl">0.5</span>)</span></code></pre></div>
<p><img src="05-week_files/figure-html/unnamed-chunk-11-1.png" width="672" /></p>
<p>Not surprisingly, the correlation is very high:</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="week-5.html#cb44-1"></a><span class="kw">cor</span>(x,y)</span></code></pre></div>
<pre><code>## [1] 0.9881391</code></pre>
<p>But this is driven by the one outlier. If we remove
this outlier, the correlation is greatly reduced
to almost 0, what it should be:</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="week-5.html#cb46-1"></a><span class="kw">cor</span>(x[<span class="op">-</span><span class="dv">23</span>], y[<span class="op">-</span><span class="dv">23</span>])</span></code></pre></div>
<pre><code>## [1] -0.001066464</code></pre>
<p>There is an alternative to the sample correlation for
estimating the population correlation that is robust
to outliers. It is called <em>Spearman correlation</em>.</p>
<p>The idea is simple: compute the correlation on the ranks
of the values. Here is a plot of the ranks plotted
against each other:</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="week-5.html#cb48-1"></a><span class="kw">tibble</span>(x,y) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb48-2"><a href="week-5.html#cb48-2"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="kw">rank</span>(x),<span class="kw">rank</span>(y))) <span class="op">+</span><span class="st"> </span></span>
<span id="cb48-3"><a href="week-5.html#cb48-3"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">alpha =</span> <span class="fl">0.5</span>)</span></code></pre></div>
<p><img src="05-week_files/figure-html/unnamed-chunk-14-1.png" width="672" /></p>
<p>The outlier is no longer associated with a very
large value and the correlation comes way down:</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="week-5.html#cb49-1"></a><span class="kw">cor</span>(<span class="kw">rank</span>(x), <span class="kw">rank</span>(y))</span></code></pre></div>
<pre><code>## [1] 0.06583858</code></pre>
<p>Spearman correlation can also be calculated like this:</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="week-5.html#cb51-1"></a><span class="kw">cor</span>(x, y, <span class="dt">method =</span> <span class="st">&quot;spearman&quot;</span>)</span></code></pre></div>
<pre><code>## [1] 0.06583858</code></pre>
<p>There are also methods for robust fitting of linear models
which you can learn about in, for instance, this book:</p>
<p>Robust Statistics: Edition 2
Peter J. Huber Elvezio M. Ronchetti</p>
</div>
<div id="reversing-cause-and-effect" class="section level3">
<h3><span class="header-section-number">6.4.3</span> Reversing Cause and Effect</h3>
<p>Another way association is confused with causation is when
the cause and effect are reversed. An example of this is
claiming that tutoring makes students perform worse because
they test lower than peers that are not tutored. In this
case, the tutoring is not causing the low test scores,
but the other way around.</p>
<p>A form of this claim was actually made it into an op-ed
in the New York Times titled
<a href="https://opinionator.blogs.nytimes.com/2014/04/12/parental-involvement-is-overrated/?rref=opinion&amp;module=ArrowsNav&amp;contentCollection=Opinion&amp;action=keypress&amp;region=FixedLeft&amp;pgtype=Blogs">Parental Involvement Is Overrated</a>.</p>
<p>Consider this quote from the article:</p>
<blockquote>
<p>When we examined whether regular help with homework had a positive impact on children’s academic performance, we were quite startled by what we found. Regardless of a family’s social class, racial or ethnic background, or a child’s grade level, consistent homework help almost never improved test scores or grades… Even more surprising to us was that when parents regularly helped with homework, kids usually performed worse.
A very likely possibility is that the children needing
regular parental help, receive this help because
they don’t perform well in school.</p>
</blockquote>
<p>We can easily construct an example of cause and
effect reversal using the father and son height
data. If we fit the model:</p>
<p><span class="math display">\[X_i = \beta_0 + \beta_1 y_i + \varepsilon_i, i=1, \dots, N\]</span></p>
<p>to the father and son height data, with <span class="math inline">\(X_i\)</span> the
father height and <span class="math inline">\(y_i\)</span> the son height, we do get a
statistically significant result:</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="week-5.html#cb53-1"></a><span class="kw">library</span>(HistData)</span>
<span id="cb53-2"><a href="week-5.html#cb53-2"></a><span class="kw">data</span>(<span class="st">&quot;GaltonFamilies&quot;</span>)</span>
<span id="cb53-3"><a href="week-5.html#cb53-3"></a>GaltonFamilies <span class="op">%&gt;%</span></span>
<span id="cb53-4"><a href="week-5.html#cb53-4"></a><span class="st">  </span><span class="kw">filter</span>(childNum <span class="op">==</span><span class="st"> </span><span class="dv">1</span> <span class="op">&amp;</span><span class="st"> </span>gender <span class="op">==</span><span class="st"> &quot;male&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb53-5"><a href="week-5.html#cb53-5"></a><span class="st">  </span><span class="kw">select</span>(father, childHeight) <span class="op">%&gt;%</span></span>
<span id="cb53-6"><a href="week-5.html#cb53-6"></a><span class="st">  </span><span class="kw">rename</span>(<span class="dt">son =</span> childHeight) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb53-7"><a href="week-5.html#cb53-7"></a><span class="st">  </span><span class="kw">do</span>(<span class="kw">tidy</span>(<span class="kw">lm</span>(father <span class="op">~</span><span class="st"> </span>son, <span class="dt">data =</span> .)))</span></code></pre></div>
<pre><code>## # A tibble: 2 x 5
##   term        estimate std.error statistic  p.value
##   &lt;chr&gt;          &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;
## 1 (Intercept)   34.0      4.57        7.44 4.31e-12
## 2 son            0.499    0.0648      7.70 9.47e-13</code></pre>
<p>The model fits the data very well. If we look at the
mathematical formulation of the model above, it could
easily be incorrectly interpreted as to suggest that
the son being tall caused the father to be tall. But
given what we know about genetics and biology, we
know it’s the other way around. The model is technically
correct. The estimates and p-values were obtained
correctly as well. What is wrong here is the interpretation.</p>
</div>
<div id="confounders" class="section level3">
<h3><span class="header-section-number">6.4.4</span> Confounders</h3>
<p>Confounders are perhaps the most common reason that
leads to associations being misinterpreted.</p>
<p>If <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span> are correlated, we call <span class="math inline">\(Z\)</span> a <em>confounder</em>
if changes in <span class="math inline">\(Z\)</span> cause changes in both <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span>.</p>
<p>Incorrect interpretation due to confounders is
ubiquitous in the lay press. It is sometimes hard
to detect. Here we present two examples, both
related to gender discrimination.</p>
<div id="case-study-uc-berkeley-admissions" class="section level4">
<h4><span class="header-section-number">6.4.4.1</span> Case Study: UC Berkeley admissions</h4>
<p>Admission data from six U.C. Berkeley majors, from 1973,
showed that more men were being admitted than women:
44% men were admitted compared to 30% women. PJ Bickel,
EA Hammel, and JW O’Connell. Science (1975).</p>
<p>Here are the data:</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="week-5.html#cb55-1"></a><span class="kw">data</span>(admissions)</span>
<span id="cb55-2"><a href="week-5.html#cb55-2"></a>admissions</span></code></pre></div>
<pre><code>##    major gender admitted applicants
## 1      A    men       62        825
## 2      B    men       63        560
## 3      C    men       37        325
## 4      D    men       33        417
## 5      E    men       28        191
## 6      F    men        6        373
## 7      A  women       82        108
## 8      B  women       68         25
## 9      C  women       34        593
## 10     D  women       35        375
## 11     E  women       24        393
## 12     F  women        7        341</code></pre>
<p>We see the percent of men and women that
were accepted was:</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="week-5.html#cb57-1"></a>admissions <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb57-2"><a href="week-5.html#cb57-2"></a><span class="st">  </span><span class="kw">group_by</span>(gender) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb57-3"><a href="week-5.html#cb57-3"></a><span class="st">  </span><span class="kw">summarize</span>(<span class="dt">percentage =</span></span>
<span id="cb57-4"><a href="week-5.html#cb57-4"></a>            <span class="kw">round</span>(<span class="kw">sum</span>(admitted<span class="op">*</span>applicants)<span class="op">/</span><span class="kw">sum</span>(applicants),<span class="dv">1</span>))</span></code></pre></div>
<pre><code>## `summarise()` ungrouping output (override with `.groups` argument)</code></pre>
<pre><code>## # A tibble: 2 x 2
##   gender percentage
##   &lt;chr&gt;       &lt;dbl&gt;
## 1 men          44.5
## 2 women        30.3</code></pre>
<p>A statistical test clearly rejects the hypothesis
that gender and admission are independent:</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="week-5.html#cb60-1"></a>dat &lt;-<span class="st"> </span>admissions <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb60-2"><a href="week-5.html#cb60-2"></a><span class="st">  </span><span class="kw">group_by</span>(gender) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb60-3"><a href="week-5.html#cb60-3"></a><span class="st">  </span><span class="kw">summarize</span>(<span class="dt">total_admitted =</span> <span class="kw">round</span>(<span class="kw">sum</span>((admitted<span class="op">/</span><span class="dv">100</span>)<span class="op">*</span>applicants)), </span>
<span id="cb60-4"><a href="week-5.html#cb60-4"></a>            <span class="dt">not_admitted =</span> <span class="kw">sum</span>(applicants) <span class="op">-</span><span class="st"> </span><span class="kw">sum</span>(total_admitted)) <span class="op">%&gt;%</span></span>
<span id="cb60-5"><a href="week-5.html#cb60-5"></a><span class="st">  </span><span class="kw">select</span>(<span class="op">-</span>gender) </span></code></pre></div>
<pre><code>## `summarise()` ungrouping output (override with `.groups` argument)</code></pre>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="week-5.html#cb62-1"></a>dat <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb62-2"><a href="week-5.html#cb62-2"></a><span class="st">  </span><span class="kw">do</span>(<span class="kw">tidy</span>(<span class="kw">chisq.test</span>(.)))</span></code></pre></div>
<pre><code>## # A tibble: 1 x 4
##   statistic  p.value parameter method                                           
##       &lt;dbl&gt;    &lt;dbl&gt;     &lt;int&gt; &lt;chr&gt;                                            
## 1      91.6 1.06e-21         1 Pearson&#39;s Chi-squared test with Yates&#39; continuit…</code></pre>
<p>But closer inspection shows a paradoxical result. Here
are the percent admissions by major:</p>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="week-5.html#cb64-1"></a>admissions <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb64-2"><a href="week-5.html#cb64-2"></a><span class="st">  </span><span class="kw">select</span>(major, gender, admitted) <span class="op">%&gt;%</span></span>
<span id="cb64-3"><a href="week-5.html#cb64-3"></a><span class="st">  </span><span class="kw">spread</span>(gender, admitted) <span class="op">%&gt;%</span></span>
<span id="cb64-4"><a href="week-5.html#cb64-4"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">women_minus_men =</span> women <span class="op">-</span><span class="st"> </span>men)</span></code></pre></div>
<pre><code>##   major men women women_minus_men
## 1     A  62    82              20
## 2     B  63    68               5
## 3     C  37    34              -3
## 4     D  33    35               2
## 5     E  28    24              -4
## 6     F   6     7               1</code></pre>
<p>Four out of the six majors favor women. More importantly
all the differences are much smaller than the 14.2
difference that we see when examining the totals.</p>
<p>The paradox is that analyzing the totals suggests a
dependence between admission and gender, but when the
data is grouped by major, this dependence seems to
disappear.</p>
<p>What’s going on? This actually can happen if an
uncounted confounder is driving most of the
variability.</p>
<p>So let’s define three variables:</p>
<ul>
<li><span class="math inline">\(X=1\)</span> for men and <span class="math inline">\(X=0\)</span> for women</li>
<li><span class="math inline">\(Y=1\)</span> for those admitted and <span class="math inline">\(Y=0\)</span> otherwise</li>
<li><span class="math inline">\(Z\)</span> quantifies how selective is the major</li>
</ul>
<p>A gender bias claim would be based on the fact that
<span class="math inline">\(\mbox{Pr}(Y=1 | X = x)\)</span> is higher for <span class="math inline">\(X=1\)</span> then
<span class="math inline">\(X=0\)</span>. But <span class="math inline">\(Z\)</span> is an important confounder to consider.
Clearly <span class="math inline">\(Z\)</span> is associated with <span class="math inline">\(Y\)</span>, as the more
selective a major, the lower <span class="math inline">\(\mbox{Pr}(Y=1 | Z = z)\)</span>.</p>
<p>But is major selectivity <span class="math inline">\(Z\)</span> associated with gender <span class="math inline">\(X\)</span>?</p>
<p>One way to see this is to plot the total percent
admitted to a major versus the percent of women
that made up the applicants:</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb66-1"><a href="week-5.html#cb66-1"></a>admissions <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb66-2"><a href="week-5.html#cb66-2"></a><span class="st">  </span><span class="kw">group_by</span>(major) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb66-3"><a href="week-5.html#cb66-3"></a><span class="st">  </span><span class="kw">summarize</span>(<span class="dt">major_selectivity =</span> <span class="kw">sum</span>(admitted<span class="op">*</span>applicants)<span class="op">/</span><span class="kw">sum</span>(applicants),</span>
<span id="cb66-4"><a href="week-5.html#cb66-4"></a>            <span class="dt">percent_women_applicants =</span> <span class="kw">sum</span>(applicants<span class="op">*</span>(gender<span class="op">==</span><span class="st">&quot;women&quot;</span>)<span class="op">/</span><span class="kw">sum</span>(applicants))<span class="op">*</span><span class="dv">100</span>) <span class="op">%&gt;%</span></span>
<span id="cb66-5"><a href="week-5.html#cb66-5"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(major_selectivity, percent_women_applicants, <span class="dt">label =</span> major)) <span class="op">+</span></span>
<span id="cb66-6"><a href="week-5.html#cb66-6"></a><span class="st">  </span><span class="kw">geom_text</span>()</span></code></pre></div>
<pre><code>## `summarise()` ungrouping output (override with `.groups` argument)</code></pre>
<p><img src="05-week_files/figure-html/unnamed-chunk-22-1.png" width="672" /></p>
<p>There seems to be an association. The plot suggests that
women were much more likely to apply to the two “hard” majors:
gender and major’s selectivity are confounded. Compare, for
example, major B and major E. Major E is much harder to
enter than major B and over 60% of applicants to major E
were women while less than 10% of the applicants of major
B were women.</p>
</div>
<div id="confounding-explained-graphically" class="section level4">
<h4><span class="header-section-number">6.4.4.2</span> Confounding explained graphically</h4>
<p>The following plot shows the percent of applicants that were
accepted by gender.</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="week-5.html#cb68-1"></a>admissions <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb68-2"><a href="week-5.html#cb68-2"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">percent_admitted =</span> admitted<span class="op">*</span>applicants<span class="op">/</span><span class="kw">sum</span>(applicants)) <span class="op">%&gt;%</span></span>
<span id="cb68-3"><a href="week-5.html#cb68-3"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(gender, <span class="dt">y =</span> percent_admitted, <span class="dt">fill =</span> major)) <span class="op">+</span></span>
<span id="cb68-4"><a href="week-5.html#cb68-4"></a><span class="st">  </span><span class="kw">geom_bar</span>(<span class="dt">stat =</span> <span class="st">&quot;identity&quot;</span>, <span class="dt">position =</span> <span class="st">&quot;stack&quot;</span>)</span></code></pre></div>
<p><img src="05-week_files/figure-html/unnamed-chunk-23-1.png" width="672" /></p>
<p>It also breaks down the acceptance rates by major: the size
of the colored bars represents the percent of each major
students were admitted to. This breakdown allows us to
see that the majority of accepted men come from two majors:
A and B. It also lets us see that few women were accepted
to these majors.</p>
<p>What the plot does <strong>not</strong> show us is
the number of applicants for each major.</p>
</div>
<div id="average-after-stratifying" class="section level4">
<h4><span class="header-section-number">6.4.4.3</span> Average after stratifying</h4>
<p>In this plot, we can see that if we condition or stratify
by major, and then look at differences, we control for
the confounder and this effect goes away.</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb69-1"><a href="week-5.html#cb69-1"></a>admissions <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb69-2"><a href="week-5.html#cb69-2"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(major, admitted, <span class="dt">col =</span> gender, </span>
<span id="cb69-3"><a href="week-5.html#cb69-3"></a>             <span class="dt">size =</span> applicants)) <span class="op">+</span></span>
<span id="cb69-4"><a href="week-5.html#cb69-4"></a><span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span><span class="st"> </span><span class="kw">xlab</span>(<span class="st">&quot;Major&quot;</span>) <span class="op">+</span><span class="st"> </span></span>
<span id="cb69-5"><a href="week-5.html#cb69-5"></a><span class="st">  </span><span class="kw">ylab</span>(<span class="st">&quot;Admission percentage by major for each gender&quot;</span>)</span></code></pre></div>
<p><img src="05-week_files/figure-html/unnamed-chunk-24-1.png" width="672" /></p>
<p>Now we see that major by major, there is not
much difference. The size of the dot represents
the number of applicants, and explains the
paradox: we see large red dots and small blue
dots for the easiest majors, A and B.</p>
<p>If we average the difference by major we find that the
percent is actually 3.5% higher for women.</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="week-5.html#cb70-1"></a>admissions <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb70-2"><a href="week-5.html#cb70-2"></a><span class="st">  </span><span class="kw">group_by</span>(gender) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb70-3"><a href="week-5.html#cb70-3"></a><span class="st">  </span><span class="kw">summarize</span>(<span class="dt">average =</span> <span class="kw">mean</span>(admitted))</span></code></pre></div>
<pre><code>## `summarise()` ungrouping output (override with `.groups` argument)</code></pre>
<pre><code>## # A tibble: 2 x 2
##   gender average
##   &lt;chr&gt;    &lt;dbl&gt;
## 1 men       38.2
## 2 women     41.7</code></pre>
</div>
</div>
<div id="simpsons-paradox" class="section level3">
<h3><span class="header-section-number">6.4.5</span> Simpson’s Paradox</h3>
<p>The case we have just covered is an example of Simpson’s
Paradox. It is called a paradox because we see the
sign of the correlation of flip when comparing the
entire dataset and specific strata. The following
is an illustrative example. Suppose you have three
variables <span class="math inline">\(X\)</span>, <span class="math inline">\(Y\)</span> and <span class="math inline">\(Z\)</span>. Here is a scatterplot of
<span class="math inline">\(Y\)</span> versus <span class="math inline">\(X\)</span>:</p>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb73-1"><a href="week-5.html#cb73-1"></a>N &lt;-<span class="st"> </span><span class="dv">100</span></span>
<span id="cb73-2"><a href="week-5.html#cb73-2"></a>Sigma &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="kw">c</span>(<span class="dv">1</span>,<span class="fl">0.75</span>,<span class="fl">0.75</span>, <span class="dv">1</span>), <span class="dv">2</span>, <span class="dv">2</span>)<span class="op">*</span><span class="fl">1.5</span></span>
<span id="cb73-3"><a href="week-5.html#cb73-3"></a>means &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="kw">c</span>(<span class="dv">11</span>,<span class="dv">3</span>), <span class="kw">c</span>(<span class="dv">9</span>,<span class="dv">5</span>), <span class="kw">c</span>(<span class="dv">7</span>,<span class="dv">7</span>), <span class="kw">c</span>(<span class="dv">5</span>,<span class="dv">9</span>), <span class="kw">c</span>(<span class="dv">3</span>,<span class="dv">11</span>))</span>
<span id="cb73-4"><a href="week-5.html#cb73-4"></a>dat &lt;-<span class="st"> </span><span class="kw">lapply</span>(means, <span class="cf">function</span>(mu) </span>
<span id="cb73-5"><a href="week-5.html#cb73-5"></a>  MASS<span class="op">::</span><span class="kw">mvrnorm</span>(N, mu, Sigma))</span>
<span id="cb73-6"><a href="week-5.html#cb73-6"></a>dat &lt;-<span class="st"> </span><span class="kw">Reduce</span>(rbind, dat)</span>
<span id="cb73-7"><a href="week-5.html#cb73-7"></a><span class="kw">colnames</span>(dat) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;X&quot;</span>, <span class="st">&quot;Y&quot;</span>)</span>
<span id="cb73-8"><a href="week-5.html#cb73-8"></a>dat &lt;-<span class="st"> </span><span class="kw">tbl_df</span>(dat) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb73-9"><a href="week-5.html#cb73-9"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">Z =</span> <span class="kw">as.character</span>(<span class="kw">rep</span>(<span class="kw">seq_along</span>(means), <span class="dt">each =</span> N)))</span></code></pre></div>
<pre><code>## Warning: `tbl_df()` is deprecated as of dplyr 1.0.0.
## Please use `tibble::as_tibble()` instead.
## This warning is displayed once every 8 hours.
## Call `lifecycle::last_warnings()` to see where this warning was generated.</code></pre>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb75-1"><a href="week-5.html#cb75-1"></a>dat <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(X,Y)) <span class="op">+</span><span class="st"> </span><span class="kw">geom_point</span>(<span class="dt">alpha =</span> <span class="fl">.5</span>) <span class="op">+</span></span>
<span id="cb75-2"><a href="week-5.html#cb75-2"></a><span class="st">  </span><span class="kw">ggtitle</span>(<span class="kw">paste</span>(<span class="st">&quot;correlation = &quot;</span>, <span class="kw">round</span>(<span class="kw">cor</span>(dat<span class="op">$</span>X, dat<span class="op">$</span>Y), <span class="dv">2</span>)))</span></code></pre></div>
<p><img src="05-week_files/figure-html/unnamed-chunk-26-1.png" width="672" /></p>
<p>You can see that <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span> are negatively correlated.
However, once we stratify by <span class="math inline">\(Z\)</span>, shown in different
colors below, another pattern emerges.</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="week-5.html#cb76-1"></a>means &lt;-<span class="st"> </span><span class="kw">as_tibble</span>(<span class="kw">Reduce</span>(rbind, means)) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb76-2"><a href="week-5.html#cb76-2"></a><span class="st">  </span><span class="kw">rename</span>(<span class="dt">x =</span> V1, <span class="dt">y =</span> V2) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb76-3"><a href="week-5.html#cb76-3"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">z =</span> <span class="kw">as.character</span>(<span class="kw">seq_along</span>(means)))</span></code></pre></div>
<pre><code>## Warning: The `x` argument of `as_tibble.matrix()` must have unique column names if `.name_repair` is omitted as of tibble 2.0.0.
## Using compatibility `.name_repair`.
## This warning is displayed once every 8 hours.
## Call `lifecycle::last_warnings()` to see where this warning was generated.</code></pre>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="week-5.html#cb78-1"></a>corrs &lt;-<span class="st"> </span>dat <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb78-2"><a href="week-5.html#cb78-2"></a><span class="st">  </span><span class="kw">group_by</span>(Z) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb78-3"><a href="week-5.html#cb78-3"></a><span class="st">  </span><span class="kw">summarize</span>(<span class="dt">cor =</span> <span class="kw">cor</span>(X,Y)) <span class="op">%&gt;%</span></span>
<span id="cb78-4"><a href="week-5.html#cb78-4"></a><span class="st">  </span><span class="kw">pull</span>(cor) </span></code></pre></div>
<pre><code>## `summarise()` ungrouping output (override with `.groups` argument)</code></pre>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="week-5.html#cb80-1"></a>dat <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(X, Y, <span class="dt">color =</span> Z)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb80-2"><a href="week-5.html#cb80-2"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">show.legend =</span> <span class="ot">FALSE</span>, <span class="dt">alpha =</span> <span class="fl">0.5</span>) <span class="op">+</span></span>
<span id="cb80-3"><a href="week-5.html#cb80-3"></a><span class="st">  </span><span class="kw">ggtitle</span>(<span class="kw">paste</span>(<span class="st">&quot;correlations =&quot;</span>, </span>
<span id="cb80-4"><a href="week-5.html#cb80-4"></a>                <span class="kw">paste</span>(<span class="kw">signif</span>(corrs,<span class="dv">2</span>), <span class="dt">collapse=</span><span class="st">&quot; &quot;</span>))) <span class="op">+</span></span>
<span id="cb80-5"><a href="week-5.html#cb80-5"></a><span class="st">  </span><span class="kw">annotate</span>(<span class="st">&quot;text&quot;</span>, <span class="dt">x =</span> means<span class="op">$</span>x, <span class="dt">y =</span> means<span class="op">$</span>y, </span>
<span id="cb80-6"><a href="week-5.html#cb80-6"></a>           <span class="dt">label =</span> <span class="kw">paste</span>(<span class="st">&quot;Z=&quot;</span>, means<span class="op">$</span>z), <span class="dt">cex =</span> <span class="dv">5</span>)  </span></code></pre></div>
<p><img src="05-week_files/figure-html/unnamed-chunk-27-1.png" width="672" /></p>
<p>It is really <span class="math inline">\(Z\)</span> that is negatively correlated with <span class="math inline">\(X\)</span>.
If we stratify by <span class="math inline">\(Z\)</span>, the <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span> are actually
positively correlated.</p>
<div id="case-study-research-funding-success" class="section level4">
<h4><span class="header-section-number">6.4.5.1</span> Case Study: Research funding success</h4>
<p>Here we examine a similar case to the UC Berkeley
admissions example, but much more subtle.</p>
<p>A <a href="http://www.pnas.org/content/112/40/12349.abstract">2014 PNAS paper</a>
analyzed success rates from funding agencies
in the Netherlands and concluded that their:</p>
<blockquote>
<p>results reveal gender bias favoring male applicants over female applicants in the prioritization of their “quality of researcher” (but not “quality of proposal”) evaluations and success rates, as well as in the language used in instructional and evaluation materials.
or that gender contributes to personal research
funding success in The Netherlands.</p>
</blockquote>
<p>The main evidence for this conclusion comes down
to a comparison of the percentages. Table S1 in
the paper includes the information we need:</p>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb81-1"><a href="week-5.html#cb81-1"></a><span class="kw">data</span>(<span class="st">&quot;research_funding_rates&quot;</span>)</span>
<span id="cb81-2"><a href="week-5.html#cb81-2"></a>research_funding_rates</span></code></pre></div>
<pre><code>##            discipline applications_total applications_men applications_women
## 1   Chemical sciences                122               83                 39
## 2   Physical sciences                174              135                 39
## 3             Physics                 76               67                  9
## 4          Humanities                396              230                166
## 5  Technical sciences                251              189                 62
## 6   Interdisciplinary                183              105                 78
## 7 Earth/life sciences                282              156                126
## 8     Social sciences                834              425                409
## 9    Medical sciences                505              245                260
##   awards_total awards_men awards_women success_rates_total success_rates_men
## 1           32         22           10                26.2              26.5
## 2           35         26            9                20.1              19.3
## 3           20         18            2                26.3              26.9
## 4           65         33           32                16.4              14.3
## 5           43         30           13                17.1              15.9
## 6           29         12           17                15.8              11.4
## 7           56         38           18                19.9              24.4
## 8          112         65           47                13.4              15.3
## 9           75         46           29                14.9              18.8
##   success_rates_women
## 1                25.6
## 2                23.1
## 3                22.2
## 4                19.3
## 5                21.0
## 6                21.8
## 7                14.3
## 8                11.5
## 9                11.2</code></pre>
<p>We can construct the two-by-two table used for the conclusion above:</p>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb83-1"><a href="week-5.html#cb83-1"></a>two_by_two &lt;-<span class="st"> </span>research_funding_rates <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb83-2"><a href="week-5.html#cb83-2"></a><span class="st">  </span><span class="kw">select</span>(<span class="op">-</span>discipline) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb83-3"><a href="week-5.html#cb83-3"></a><span class="st">  </span><span class="kw">summarize_all</span>(sum) <span class="op">%&gt;%</span></span>
<span id="cb83-4"><a href="week-5.html#cb83-4"></a><span class="st">  </span><span class="kw">summarize</span>(<span class="dt">yes_men =</span> awards_men, </span>
<span id="cb83-5"><a href="week-5.html#cb83-5"></a>            <span class="dt">no_men =</span> applications_men <span class="op">-</span><span class="st"> </span>awards_men, </span>
<span id="cb83-6"><a href="week-5.html#cb83-6"></a>            <span class="dt">yes_women =</span> awards_women, </span>
<span id="cb83-7"><a href="week-5.html#cb83-7"></a>            <span class="dt">no_women =</span> applications_women <span class="op">-</span><span class="st"> </span>awards_women) <span class="op">%&gt;%</span></span>
<span id="cb83-8"><a href="week-5.html#cb83-8"></a><span class="st">  </span>gather <span class="op">%&gt;%</span></span>
<span id="cb83-9"><a href="week-5.html#cb83-9"></a><span class="st">  </span><span class="kw">separate</span>(key, <span class="kw">c</span>(<span class="st">&quot;awarded&quot;</span>, <span class="st">&quot;gender&quot;</span>)) <span class="op">%&gt;%</span></span>
<span id="cb83-10"><a href="week-5.html#cb83-10"></a><span class="st">  </span><span class="kw">spread</span>(gender, value)</span>
<span id="cb83-11"><a href="week-5.html#cb83-11"></a>two_by_two</span></code></pre></div>
<pre><code>##   awarded  men women
## 1      no 1345  1011
## 2     yes  290   177</code></pre>
<p>Compute the difference in percentage:</p>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb85-1"><a href="week-5.html#cb85-1"></a>two_by_two <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb85-2"><a href="week-5.html#cb85-2"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">men =</span> <span class="kw">round</span>(men<span class="op">/</span><span class="kw">sum</span>(men)<span class="op">*</span><span class="dv">100</span>, <span class="dv">1</span>),</span>
<span id="cb85-3"><a href="week-5.html#cb85-3"></a>         <span class="dt">women =</span> <span class="kw">round</span>(women<span class="op">/</span><span class="kw">sum</span>(women)<span class="op">*</span><span class="dv">100</span>, <span class="dv">1</span>)) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb85-4"><a href="week-5.html#cb85-4"></a><span class="st">  </span><span class="kw">filter</span>(awarded <span class="op">==</span><span class="st"> &quot;yes&quot;</span>)</span></code></pre></div>
<pre><code>##   awarded  men women
## 1     yes 17.7  14.9</code></pre>
<p><strong>Note</strong>: It’s lower for women, and find
that it is almost statistically significant
at the <span class="math inline">\(\alpha=0.05\)</span> level:</p>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb87-1"><a href="week-5.html#cb87-1"></a>two_by_two <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb87-2"><a href="week-5.html#cb87-2"></a><span class="st">  </span><span class="kw">select</span>(<span class="op">-</span>awarded) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb87-3"><a href="week-5.html#cb87-3"></a><span class="st">  </span><span class="kw">chisq.test</span>() <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb87-4"><a href="week-5.html#cb87-4"></a><span class="st">  </span>tidy</span></code></pre></div>
<pre><code>## # A tibble: 1 x 4
##   statistic p.value parameter method                                            
##       &lt;dbl&gt;   &lt;dbl&gt;     &lt;int&gt; &lt;chr&gt;                                             
## 1      3.81  0.0509         1 Pearson&#39;s Chi-squared test with Yates&#39; continuity…</code></pre>
<p>So there appears to be some evidence
of an association. But can we infer causation
here? Is gender bias causing this observed
difference?</p>
<p><a href="http://www.pnas.org/content/112/51/E7036.extract">A response</a>
was published a few months later titled <em>No evidence that gender contributes to personal research funding success in The Netherlands: A reaction to Van der Lee and Ellemers</em> which concluded:</p>
<blockquote>
<p>However, the overall gender effect borders on statistical significance, despite the large sample. Moreover, their conclusion could be a prime example of Simpson’s paradox; if a higher percentage of women apply for grants in more competitive scientific disciplines (i.e., with low application success rates for both men and women), then an analysis across all disciplines could incorrectly show “evidence” of gender inequality.
In the UC Berkeley admissions example, the overall
differences were explained by difference across
disciplines. We use the same approach on the research
funding data and look at comparisons by discipline:</p>
</blockquote>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb89-1"><a href="week-5.html#cb89-1"></a>dat &lt;-<span class="st"> </span>research_funding_rates <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb89-2"><a href="week-5.html#cb89-2"></a><span class="st">  </span><span class="kw">rename</span>(<span class="dt">success_total =</span> success_rates_total,</span>
<span id="cb89-3"><a href="week-5.html#cb89-3"></a>         <span class="dt">success_men =</span> success_rates_men,</span>
<span id="cb89-4"><a href="week-5.html#cb89-4"></a>         <span class="dt">success_women =</span> success_rates_women) <span class="op">%&gt;%</span></span>
<span id="cb89-5"><a href="week-5.html#cb89-5"></a><span class="st">  </span><span class="kw">gather</span>(key, value, <span class="op">-</span>discipline) <span class="op">%&gt;%</span></span>
<span id="cb89-6"><a href="week-5.html#cb89-6"></a><span class="st">  </span><span class="kw">separate</span>(key, <span class="kw">c</span>(<span class="st">&quot;type&quot;</span>, <span class="st">&quot;gender&quot;</span>)) <span class="op">%&gt;%</span></span>
<span id="cb89-7"><a href="week-5.html#cb89-7"></a><span class="st">  </span><span class="kw">spread</span>(type, value) <span class="op">%&gt;%</span></span>
<span id="cb89-8"><a href="week-5.html#cb89-8"></a><span class="st">  </span><span class="kw">filter</span>(gender <span class="op">!=</span><span class="st"> &quot;total&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb89-9"><a href="week-5.html#cb89-9"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">discipline =</span> <span class="kw">reorder</span>(discipline, applications, sum))</span>
<span id="cb89-10"><a href="week-5.html#cb89-10"></a>dat <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb89-11"><a href="week-5.html#cb89-11"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(discipline, success, <span class="dt">size =</span> applications, <span class="dt">color =</span> gender)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb89-12"><a href="week-5.html#cb89-12"></a><span class="st">  </span><span class="kw">theme</span>(<span class="dt">axis.text.x =</span> <span class="kw">element_text</span>(<span class="dt">angle =</span> <span class="dv">90</span>, <span class="dt">hjust =</span> <span class="dv">1</span>)) <span class="op">+</span></span>
<span id="cb89-13"><a href="week-5.html#cb89-13"></a><span class="st">  </span><span class="kw">geom_point</span>()</span></code></pre></div>
<p><img src="05-week_files/figure-html/unnamed-chunk-32-1.png" width="672" /></p>
<p>Here we see that some fields favor men and other women.
We see that the two fields with the largest difference
favoring men, are also the fields with the most applications.
However, are any of these differences statistically
significant?</p>
<p>Keep in mind that even when there is no bias,
we will see differences due to random variability in the
review process as well as random variability across candidates.
If we perform a Fisher test in each discipline, we see that
most differences result in p-values larger than <span class="math inline">\(\alpha = 0.05\)</span>.</p>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb90-1"><a href="week-5.html#cb90-1"></a>do_fisher_test &lt;-<span class="st"> </span><span class="cf">function</span>(m, x, n, y){</span>
<span id="cb90-2"><a href="week-5.html#cb90-2"></a>  tab &lt;-<span class="st"> </span><span class="kw">tibble</span>(<span class="dt">men =</span> <span class="kw">c</span>(x, m<span class="op">-</span>x), <span class="dt">women =</span> <span class="kw">c</span>(y, n<span class="op">-</span>y))</span>
<span id="cb90-3"><a href="week-5.html#cb90-3"></a>  <span class="kw">tidy</span>(<span class="kw">fisher.test</span>(tab)) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb90-4"><a href="week-5.html#cb90-4"></a><span class="st">    </span><span class="kw">rename</span>(<span class="dt">odds =</span> estimate) <span class="op">%&gt;%</span></span>
<span id="cb90-5"><a href="week-5.html#cb90-5"></a><span class="st">    </span><span class="kw">mutate</span>(<span class="dt">difference =</span> y<span class="op">/</span>n <span class="op">-</span><span class="st"> </span>x<span class="op">/</span>m)</span>
<span id="cb90-6"><a href="week-5.html#cb90-6"></a>}</span>
<span id="cb90-7"><a href="week-5.html#cb90-7"></a>res &lt;-<span class="st"> </span>research_funding_rates <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb90-8"><a href="week-5.html#cb90-8"></a><span class="st">  </span><span class="kw">group_by</span>(discipline) <span class="op">%&gt;%</span></span>
<span id="cb90-9"><a href="week-5.html#cb90-9"></a><span class="st">  </span><span class="kw">do</span>(<span class="kw">do_fisher_test</span>(.<span class="op">$</span>applications_men, .<span class="op">$</span>awards_men, </span>
<span id="cb90-10"><a href="week-5.html#cb90-10"></a>                    .<span class="op">$</span>applications_women, .<span class="op">$</span>awards_women)) <span class="op">%&gt;%</span></span>
<span id="cb90-11"><a href="week-5.html#cb90-11"></a><span class="st">  </span><span class="kw">ungroup</span>() <span class="op">%&gt;%</span></span>
<span id="cb90-12"><a href="week-5.html#cb90-12"></a><span class="st">  </span><span class="kw">select</span>(discipline, difference, p.value) <span class="op">%&gt;%</span></span>
<span id="cb90-13"><a href="week-5.html#cb90-13"></a><span class="st">  </span><span class="kw">arrange</span>(difference)</span>
<span id="cb90-14"><a href="week-5.html#cb90-14"></a>res </span></code></pre></div>
<pre><code>## # A tibble: 9 x 3
##   discipline          difference p.value
##   &lt;chr&gt;                    &lt;dbl&gt;   &lt;dbl&gt;
## 1 Earth/life sciences   -0.101    0.0367
## 2 Medical sciences      -0.0762   0.0175
## 3 Physics               -0.0464   1.00  
## 4 Social sciences       -0.0380   0.127 
## 5 Chemical sciences     -0.00865  1     
## 6 Physical sciences      0.0382   0.651 
## 7 Humanities             0.0493   0.217 
## 8 Technical sciences     0.0509   0.437 
## 9 Interdisciplinary      0.104    0.0671</code></pre>
<p>We see that for Earth/Life Sciences, there is a difference
of 10% favoring men and this has a p-value of 0.04. But
is this a spurious correlation? We performed 9 tests.
Reporting only the one case with a p-value less than
0.05 would be cherry picking.</p>
<p>The overall average of the difference is only -0.3%,
which is much smaller than the standard error:</p>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb92-1"><a href="week-5.html#cb92-1"></a>res <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">summarize</span>(<span class="dt">overall_avg =</span> <span class="kw">mean</span>(difference), </span>
<span id="cb92-2"><a href="week-5.html#cb92-2"></a>                  <span class="dt">se =</span> <span class="kw">sd</span>(difference)<span class="op">/</span><span class="kw">sqrt</span>(<span class="kw">n</span>()))</span></code></pre></div>
<pre><code>## # A tibble: 1 x 2
##   overall_avg     se
##         &lt;dbl&gt;  &lt;dbl&gt;
## 1    -0.00311 0.0226</code></pre>
<p>Furthermore, note that the differences appear
to follow a normal distribution:</p>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb94-1"><a href="week-5.html#cb94-1"></a>res <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb94-2"><a href="week-5.html#cb94-2"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">sample =</span> <span class="kw">scale</span>(difference))) <span class="op">+</span><span class="st"> </span></span>
<span id="cb94-3"><a href="week-5.html#cb94-3"></a><span class="st">  </span><span class="kw">stat_qq</span>() <span class="op">+</span><span class="st"> </span><span class="kw">geom_abline</span>()</span></code></pre></div>
<p><img src="05-week_files/figure-html/unnamed-chunk-35-1.png" width="672" /></p>
<p>which suggests the possibility that the observed
differences are just due to chance.</p>
</div>
</div>
</div>
<div id="over-skepticism" class="section level2">
<h2><span class="header-section-number">6.5</span> Over-skepticism</h2>
<p>There is a famous paper called <a href="https://journals.plos.org/plosmedicine/article?id=10.1371/journal.pmed.0020124">Why most published research findings are false</a>. There are also claims that <a href="https://journals.plos.org/plosbiology/article?id=10.1371/journal.pbio.1002165">billions are wasted due to lack of reproducibility</a> and that <a href="https://science.sciencemag.org/content/349/6251/aac4716">most psychological studies won’t replicate</a>.</p>
<p>These represent very flashy and field defining examples of over skepticism. But there are more subtle forms that often come up when applying statistics within the context of statistics - where sometimes the role of referee is taken too far.</p>
<div id="everything-must-be-causal" class="section level3">
<h3><span class="header-section-number">6.5.1</span> Everything must be causal</h3>
<p>Recall from the types of questions that we might be interested in whether the manipulation of one variable causes a change in another variable. However, sometimes it is sufficiently interesting to simply see a correlation between variables. If an analysis is not over-interpreted, it is perfectly reasonable to present an association - sometimes the desire for causality will cause people to throw out interesting correlations.</p>
</div>
<div id="nothing-can-be-causal" class="section level3">
<h3><span class="header-section-number">6.5.2</span> Nothing can be causal</h3>
<p>Causal inference as a subfield of statistics places extreme weight on skepticism versus discovery. This is often a very good thing. I want the FDA to be skeptical when they are evaluating what medicines I can take and if they might kill me! But there are also cases where observational data, carefully analyzed, can suggest causal relationships. This is tricky to do well in practice, but as a field there is a tendency to criticize any analysis attempting to discover causal relationshps unless is an idealized randomized trial - which hardly ever happens.</p>
</div>
<div id="you-should-answer-my-question-not-yours" class="section level3">
<h3><span class="header-section-number">6.5.3</span> You should answer my question, not yours</h3>
<p>When you read a data analysis there is a question the authors were trying to answer. Sometimes this corresponds to the question that you care about and sometimes it doesn’t. A common tendency is to criticize a data analysis for not answering the question you wanted answered, even if it does a perfectly reasonable job of answering the question they set out to answer.</p>
</div>
<div id="you-used-insert-method-i-dont-use-therefore-the-analysis-is-wrong" class="section level3">
<h3><span class="header-section-number">6.5.4</span> You used (insert method I don’t use) therefore the analysis is wrong</h3>
<p>Statistical modeling choices are made both for scientific and well-justified theoretical reasons; they are also made due to personal preference, ease of use, tradition in a field, and many other reasons. It is common to criticize analysts for using a different method than the one you would have used. Sometimes this is justified and the chosen method produces incorrect results, but often it is simply a personal preference and it makes more sense to understand the analysis in the context of the methdods used.</p>
</div>
</div>
<div id="additional-resources" class="section level2">
<h2><span class="header-section-number">6.6</span> Additional Resources</h2>
<div class="resources">
<ul>
<li><a href="https://www.biostat.wisc.edu/~kbroman/presentations/graphs2018.pdf">Karl Broman’s Data Visualization Lecture</a></li>
<li><a href="https://rafalab.github.io/dsbook/">Rafa Irizarry’s Data Science Book</a></li>
<li><a href="http://genomicsclass.github.io/book/">Rafa Irizarry’s Genomic Data Science Book</a></li>
<li><a href="https://jhu-advdatasci.github.io/2019/lectures/07-being-skeptical.html">Stephanie Hick’s Lecture on Skepticism in Data Science</a></li>
</ul>
</div>
</div>
<div id="homework" class="section level2">
<h2><span class="header-section-number">6.7</span> Homework</h2>
<div class="homework">
<ul>
<li><strong>Template Repo</strong>: <a href="https://github.com/advdatasci/homework5" class="uri">https://github.com/advdatasci/homework5</a></li>
<li><strong>Repo Name</strong>: homework5-ind-yourgithubusername</li>
<li><strong>Pull Date</strong>: 2020/10/05 9:00AM Baltimore Time</li>
</ul>
</div>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="week-4.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="week-6.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["ads2020.pdf", "ads2020.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
